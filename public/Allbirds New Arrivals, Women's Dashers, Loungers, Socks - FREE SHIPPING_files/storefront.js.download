
(function() {
  if (window.$superfiliateStorefront) return;

  window.$superfiliateStorefront = {"health":{"environment":"production","railsTimestamp":1751950054747706,"redisTimestamp":1751950054747908,"postgresTimestamp":1751950054748775,"herokuReleaseVersion":null,"herokuReleaseCreatedAt":null,"ddVersion":"9359b67be6cdc5ac8cb445a7fd586d20f4ba2f63","yjit":true},"shop":{"id":10660,"name":"Allbirds","shopifyDomain":"weareallbirds.myshopify.com","programDomain":"allbirds.superfiliate.com","featuresEnabled":["waitlist_approved","without_shopify_extra_features","proactive_gifting_campaign","customer_address_form","dark_mode_app","gifting_campaign_dashboard","creator_discovery_v2_list","content_brief_partnership_ads","content_brief_update_superfiliates","app_insights_commission_charts","gifting_collections","custom_currency","tiktok_shop_aggregated_metrics","content_brief_communications","gifting_enable_repeated_skus","tiktok_shop_upload_creators","tiktok_shop_merged_creators_management","import_handles_from_meta","tiktok_shop_sync_products","superfiliate_select_all","global_gifting_campaigns","url_customization"],"micrositeDomain":"shop.allbirds.com"},"personalization":null,"defaultSfVariables":{},"apiBaseUrl":"https://app.superfiliate.com"};

  (function(){var rc,nc,sc,oc;"use strict";var wi=document.createElement("style");wi.textContent=`@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap";._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#f3f4f6}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-content: ""}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x html,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x body{margin:0;line-height:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr{height:0;color:inherit;border-top-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6{font-size:inherit;font-weight:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x a{color:inherit;text-decoration:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x b,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x code,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x kbd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x samp,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x small{font-size:80%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub{bottom:-.25em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{top:-.5em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x table{text-indent:0;border-color:inherit;border-collapse:collapse}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x optgroup,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select{text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=button]),._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=reset]),._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-focusring{outline:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-ui-invalid{box-shadow:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x progress{vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-inner-spin-button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-outer-spin-button{height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=search]{-webkit-appearance:textfield;outline-offset:-2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-search-decoration{-webkit-appearance:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x summary{display:list-item}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x blockquote,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dl,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x figure,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x p,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x fieldset{margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x legend{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ol,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ul,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x menu{list-style:none;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dialog{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{resize:vertical}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::-moz-placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [role=button]{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :disabled{cursor:default}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x svg,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x canvas,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x audio,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x iframe,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x embed,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x object{display:block;vertical-align:middle}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video{max-width:100%;height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [hidden]:where(:not([hidden=until-found])){display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x{--sf-success-color: 18,183,106;--sf-success-content-color: 255,255,255;--sf-danger-color: 240,68,56;--sf-danger-content-color: 255,255,255;--sf-base-swappable: var(--base-color);--sf-base-content-swappable: var(--base-content-color);--sf-primary-swappable: var(--primary-color);--sf-primary-content-swappable: var(--primary-content-color);--sf-secondary-swappable: var(--secondary-color);--sf-secondary-content-swappable: var(--secondary-content-color);--sf-accent-swappable: var(--accent-color);--sf-accent-content-swappable: var(--accent-content-color)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pointer-events-none{pointer-events:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fixed{position:fixed}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-absolute{position:absolute}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-relative{position:relative}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-0{top:0;right:0;bottom:0;left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-x-0{left:0;right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2{right:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2\\.5{right:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2{top:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2\\.5{top:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-0{bottom:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-\\[50vh\\]{bottom:50vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-0{left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-\\[-10\\%\\]{left:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-0{right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2{right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2\\.5{right:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2{top:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2\\.5{top:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-3{top:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-4{top:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-\\[-10\\%\\]{top:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-\\[10\\]{z-index:-10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-index-program-widget-modal{z-index:calc(var(--sf-z-index-program-widget-modal) * -1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-10{z-index:10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-index-program-widget-modal{z-index:var(--sf-z-index-program-widget-modal)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-col-span-2{grid-column:span 2 / span 2}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-m-auto{margin:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-1{margin-left:4px;margin-right:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-3{margin-left:12px;margin-right:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-5{margin-left:20px;margin-right:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-auto{margin-left:auto;margin-right:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-1{margin-top:4px;margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-3{margin-top:12px;margin-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-6{margin-top:24px;margin-bottom:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-mt-7{margin-top:-28px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1{margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1\\.5{margin-bottom:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-2{margin-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-4{margin-bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-8{margin-bottom:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-1{margin-left:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-5{margin-left:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mt-\\[32px\\]{margin-top:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-block{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex{display:flex}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid{display:grid}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-size-full{width:100%;height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-12{height:48px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-2{height:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-3{height:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-36{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-4{height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-5{height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-6{height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-8{height:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-9{height:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120\\%\\]{height:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120px\\]{height:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[141px\\]{height:141px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[144px\\]{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[18px\\]{height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[190px\\]{height:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[662px\\]{height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-full{height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-screen{height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-full{max-height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-screen{max-height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-min-h-\\[360px\\]{min-height:360px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-10\\/12{width:83.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-11\\/12{width:91.666667%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-2{width:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-3\\/4{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-4\\/12{width:33.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-5{width:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6{width:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6\\/12{width:50%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9{width:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9\\/12{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120\\%\\]{width:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120px\\]{width:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[18px\\]{width:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[190px\\]{width:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[80px\\]{width:80px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[95\\%\\]{width:95%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-fit{width:-moz-fit-content;width:fit-content}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-full{width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-screen{width:100vw}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-\\[unset\\]{max-width:unset}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-full{max-width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-left{transform-origin:bottom left}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-right{transform-origin:bottom right}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[-36\\%\\]{--tw-translate-x: -36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[36\\%\\]{--tw-translate-x: 36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[270deg\\]{--tw-rotate: 270deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[90deg\\]{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes sf-pulse{50%{opacity:.5}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-pulse{animation:sf-pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes sf-spin{to{transform:rotate(360deg)}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-spin{animation:sf-spin 1s linear infinite}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-cursor-pointer{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-list-disc{list-style-type:disc}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex-col{flex-direction:column}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-items-center{align-items:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-justify-center{justify-content:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-gap-2{gap:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-auto{overflow:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-hidden{overflow:hidden}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded{border-radius:.25rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-2xl{border-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-full{border-radius:9999px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-lg{border-radius:.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-xl{border-radius:.75rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border{border-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border-base-content\\/10{border-color:rgba(var(--sf-base-content-swappable),.1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base{--tw-bg-opacity: 1;background-color:rgba(var(--sf-base-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base-content\\/20{background-color:rgba(var(--sf-base-content-swappable),.2)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base\\/\\[0\\.5\\]{background-color:rgba(var(--sf-base-swappable),.5)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-black\\/50{background-color:#00000080}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(237 237 237 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-primary{--tw-bg-opacity: 1;background-color:rgba(var(--sf-primary-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-object-contain{-o-object-fit:contain;object-fit:contain}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0\\.5{padding:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2{padding:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2\\.5{padding:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-6{padding:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-\\[6px\\]{padding:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-2{padding-left:8px;padding-right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-4{padding-left:16px;padding-right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-1{padding-top:4px;padding-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-10{padding-top:40px;padding-bottom:40px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-2{padding-top:8px;padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-3{padding-top:12px;padding-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pb-2{padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-center{text-align:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-display{font-family:SF-Primary-Font,Poppins,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{font-size:;line-height:}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-lg{font-size:20px;line-height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-md{font-size:14px;line-height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-sm{font-size:12px;line-height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-xs{font-size:10px;line-height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-bold{font-weight:700}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-semibold{font-weight:600}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-leading-4{line-height:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{--tw-text-opacity: 1;color:rgba(var(--sf-base-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base-content{--tw-text-opacity: 1;color:rgba(var(--sf-base-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary{--tw-text-opacity: 1;color:rgba(var(--sf-primary-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary-content{--tw-text-opacity: 1;color:rgba(var(--sf-primary-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-underline{text-decoration-line:underline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-decoration-2{text-decoration-thickness:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-backdrop-blur-xl{--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-in{animation-name:enter;animation-duration:.7s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fade-in{--tw-enter-opacity: 0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-left{--tw-enter-translate-x: -100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-right{--tw-enter-translate-x: 100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x *{flex-wrap:initial;margin:0;min-width:initial;flex:initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x div{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x img{opacity:1;background-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder{text-align:left;text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x input::placeholder{text-align:left;text-transform:none}:root{--sf-z-index-program-widget-modal: 2147483000}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *{font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder!important}@media (min-width: 480px){._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-m-0{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-h-\\[222px\\]{height:222px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[662px\\]{max-height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[680px\\]{max-height:680px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-w-\\[126px\\]{width:126px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-w-\\[390px\\]{max-width:390px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-leading-6{line-height:1.5rem}}
`,document.head.appendChild(wi);const Yb="";var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Si(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gr=function(t){return t&&t.Math==Math&&t},Ce=Gr(typeof globalThis=="object"&&globalThis)||Gr(typeof window=="object"&&window)||Gr(typeof self=="object"&&self)||Gr(typeof Wr=="object"&&Wr)||function(){return this}()||Function("return this")(),qn={},Ae=function(t){try{return!!t()}catch{return!0}},kc=Ae,ht=!kc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ec=Ae,Vn=!Ec(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),$c=Vn,qr=Function.prototype.call,gt=$c?qr.bind(qr):function(){return qr.apply(qr,arguments)},ki={},Ei={}.propertyIsEnumerable,$i=Object.getOwnPropertyDescriptor,Tc=$i&&!Ei.call({1:2},1);ki.f=Tc?function(e){var r=$i(this,e);return!!r&&r.enumerable}:Ei;var Ti=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},Oi=Vn,Pi=Function.prototype,Yn=Pi.call,Oc=Oi&&Pi.bind.bind(Yn,Yn),ge=Oi?Oc:function(t){return function(){return Yn.apply(t,arguments)}},Ii=ge,Pc=Ii({}.toString),Ic=Ii("".slice),cr=function(t){return Ic(Pc(t),8,-1)},Rc=ge,Cc=Ae,Ac=cr,Kn=Object,Nc=Rc("".split),Dc=Cc(function(){return!Kn("z").propertyIsEnumerable(0)})?function(t){return Ac(t)=="String"?Nc(t,""):Kn(t)}:Kn,Vr=function(t){return t==null},Fc=Vr,Mc=TypeError,_r=function(t){if(Fc(t))throw Mc("Can't call method on "+t);return t},Lc=Dc,Uc=_r,Yr=function(t){return Lc(Uc(t))},Jn=typeof document=="object"&&document.all,jc=typeof Jn>"u"&&Jn!==void 0,Ri={all:Jn,IS_HTMLDDA:jc},Ci=Ri,Bc=Ci.all,$e=Ci.IS_HTMLDDA?function(t){return typeof t=="function"||t===Bc}:function(t){return typeof t=="function"},Ai=$e,Ni=Ri,Hc=Ni.all,Bt=Ni.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:Ai(t)||t===Hc}:function(t){return typeof t=="object"?t!==null:Ai(t)},Xn=Ce,zc=$e,Wc=function(t){return zc(t)?t:void 0},Qn=function(t,e){return arguments.length<2?Wc(Xn[t]):Xn[t]&&Xn[t][e]},Gc=ge,Di=Gc({}.isPrototypeOf),qc=typeof navigator<"u"&&String(navigator.userAgent)||"",Fi=Ce,Zn=qc,Mi=Fi.process,Li=Fi.Deno,Ui=Mi&&Mi.versions||Li&&Li.version,ji=Ui&&Ui.v8,je,Kr;ji&&(je=ji.split("."),Kr=je[0]>0&&je[0]<4?1:+(je[0]+je[1])),!Kr&&Zn&&(je=Zn.match(/Edge\/(\d+)/),(!je||je[1]>=74)&&(je=Zn.match(/Chrome\/(\d+)/),je&&(Kr=+je[1])));var Vc=Kr,Bi=Vc,Yc=Ae,Hi=!!Object.getOwnPropertySymbols&&!Yc(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Bi&&Bi<41}),Kc=Hi,zi=Kc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Jc=Qn,Xc=$e,Qc=Di,Zc=zi,e_=Object,Wi=Zc?function(t){return typeof t=="symbol"}:function(t){var e=Jc("Symbol");return Xc(e)&&Qc(e.prototype,e_(t))},t_=String,r_=function(t){try{return t_(t)}catch{return"Object"}},n_=$e,s_=r_,o_=TypeError,i_=function(t){if(n_(t))return t;throw o_(s_(t)+" is not a function")},a_=i_,f_=Vr,es=function(t,e){var r=t[e];return f_(r)?void 0:a_(r)},ts=gt,rs=$e,ns=Bt,l_=TypeError,u_=function(t,e){var r,n;if(e==="string"&&rs(r=t.toString)&&!ns(n=ts(r,t))||rs(r=t.valueOf)&&!ns(n=ts(r,t))||e!=="string"&&rs(r=t.toString)&&!ns(n=ts(r,t)))return n;throw l_("Can't convert object to primitive value")},Gi={exports:{}},qi=Ce,c_=Object.defineProperty,ss=function(t,e){try{c_(qi,t,{value:e,configurable:!0,writable:!0})}catch{qi[t]=e}return e},__=Ce,d_=ss,Vi="__core-js_shared__",p_=__[Vi]||d_(Vi,{}),os=p_,Yi=os;(Gi.exports=function(t,e){return Yi[t]||(Yi[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var is=Gi.exports,h_=_r,g_=Object,as=function(t){return g_(h_(t))},v_=ge,m_=as,x_=v_({}.hasOwnProperty),vt=Object.hasOwn||function(e,r){return x_(m_(e),r)},y_=ge,b_=0,w_=Math.random(),S_=y_(1 .toString),Ki=function(t){return"Symbol("+(t===void 0?"":t)+")_"+S_(++b_+w_,36)},k_=Ce,E_=is,Ji=vt,$_=Ki,T_=Hi,O_=zi,Ht=k_.Symbol,fs=E_("wks"),P_=O_?Ht.for||Ht:Ht&&Ht.withoutSetter||$_,mt=function(t){return Ji(fs,t)||(fs[t]=T_&&Ji(Ht,t)?Ht[t]:P_("Symbol."+t)),fs[t]},I_=gt,Xi=Bt,Qi=Wi,R_=es,C_=u_,A_=mt,N_=TypeError,D_=A_("toPrimitive"),F_=function(t,e){if(!Xi(t)||Qi(t))return t;var r=R_(t,D_),n;if(r){if(e===void 0&&(e="default"),n=I_(r,t,e),!Xi(n)||Qi(n))return n;throw N_("Can't convert object to primitive value")}return e===void 0&&(e="number"),C_(t,e)},M_=F_,L_=Wi,Zi=function(t){var e=M_(t,"string");return L_(e)?e:e+""},U_=Ce,ea=Bt,ls=U_.document,j_=ea(ls)&&ea(ls.createElement),ta=function(t){return j_?ls.createElement(t):{}},B_=ht,H_=Ae,z_=ta,ra=!B_&&!H_(function(){return Object.defineProperty(z_("div"),"a",{get:function(){return 7}}).a!=7}),W_=ht,G_=gt,q_=ki,V_=Ti,Y_=Yr,K_=Zi,J_=vt,X_=ra,na=Object.getOwnPropertyDescriptor;qn.f=W_?na:function(e,r){if(e=Y_(e),r=K_(r),X_)try{return na(e,r)}catch{}if(J_(e,r))return V_(!G_(q_.f,e,r),e[r])};var zt={},Q_=ht,Z_=Ae,sa=Q_&&Z_(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),ed=Bt,td=String,rd=TypeError,It=function(t){if(ed(t))return t;throw rd(td(t)+" is not an object")},nd=ht,sd=ra,od=sa,Jr=It,oa=Zi,id=TypeError,us=Object.defineProperty,ad=Object.getOwnPropertyDescriptor,cs="enumerable",_s="configurable",ds="writable";zt.f=nd?od?function(e,r,n){if(Jr(e),r=oa(r),Jr(n),typeof e=="function"&&r==="prototype"&&"value"in n&&ds in n&&!n[ds]){var s=ad(e,r);s&&s[ds]&&(e[r]=n.value,n={configurable:_s in n?n[_s]:s[_s],enumerable:cs in n?n[cs]:s[cs],writable:!1})}return us(e,r,n)}:us:function(e,r,n){if(Jr(e),r=oa(r),Jr(n),sd)try{return us(e,r,n)}catch{}if("get"in n||"set"in n)throw id("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var fd=ht,ld=zt,ud=Ti,ps=fd?function(t,e,r){return ld.f(t,e,ud(1,r))}:function(t,e,r){return t[e]=r,t},ia={exports:{}},hs=ht,cd=vt,aa=Function.prototype,_d=hs&&Object.getOwnPropertyDescriptor,gs=cd(aa,"name"),dd=gs&&(function(){}).name==="something",pd=gs&&(!hs||hs&&_d(aa,"name").configurable),hd={EXISTS:gs,PROPER:dd,CONFIGURABLE:pd},gd=ge,vd=$e,vs=os,md=gd(Function.toString);vd(vs.inspectSource)||(vs.inspectSource=function(t){return md(t)});var xd=vs.inspectSource,yd=Ce,bd=$e,fa=yd.WeakMap,wd=bd(fa)&&/native code/.test(String(fa)),Sd=is,kd=Ki,la=Sd("keys"),ua=function(t){return la[t]||(la[t]=kd(t))},ms={},Ed=wd,ca=Ce,$d=Bt,Td=ps,xs=vt,ys=os,Od=ua,Pd=ms,_a="Object already initialized",bs=ca.TypeError,Id=ca.WeakMap,Xr,dr,Qr,Rd=function(t){return Qr(t)?dr(t):Xr(t,{})},Cd=function(t){return function(e){var r;if(!$d(e)||(r=dr(e)).type!==t)throw bs("Incompatible receiver, "+t+" required");return r}};if(Ed||ys.state){var Ge=ys.state||(ys.state=new Id);Ge.get=Ge.get,Ge.has=Ge.has,Ge.set=Ge.set,Xr=function(t,e){if(Ge.has(t))throw bs(_a);return e.facade=t,Ge.set(t,e),e},dr=function(t){return Ge.get(t)||{}},Qr=function(t){return Ge.has(t)}}else{var Wt=Od("state");Pd[Wt]=!0,Xr=function(t,e){if(xs(t,Wt))throw bs(_a);return e.facade=t,Td(t,Wt,e),e},dr=function(t){return xs(t,Wt)?t[Wt]:{}},Qr=function(t){return xs(t,Wt)}}var da={set:Xr,get:dr,has:Qr,enforce:Rd,getterFor:Cd},ws=ge,Ad=Ae,Nd=$e,Zr=vt,Ss=ht,Dd=hd.CONFIGURABLE,Fd=xd,pa=da,Md=pa.enforce,Ld=pa.get,ha=String,en=Object.defineProperty,Ud=ws("".slice),jd=ws("".replace),Bd=ws([].join),Hd=Ss&&!Ad(function(){return en(function(){},"length",{value:8}).length!==8}),zd=String(String).split("String"),Wd=ia.exports=function(t,e,r){Ud(ha(e),0,7)==="Symbol("&&(e="["+jd(ha(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Zr(t,"name")||Dd&&t.name!==e)&&(Ss?en(t,"name",{value:e,configurable:!0}):t.name=e),Hd&&r&&Zr(r,"arity")&&t.length!==r.arity&&en(t,"length",{value:r.arity});try{r&&Zr(r,"constructor")&&r.constructor?Ss&&en(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=Md(t);return Zr(n,"source")||(n.source=Bd(zd,typeof e=="string"?e:"")),t};Function.prototype.toString=Wd(function(){return Nd(this)&&Ld(this).source||Fd(this)},"toString");var Gd=ia.exports,qd=$e,Vd=zt,Yd=Gd,Kd=ss,ga=function(t,e,r,n){n||(n={});var s=n.enumerable,o=n.name!==void 0?n.name:e;if(qd(r)&&Yd(r,o,n),n.global)s?t[e]=r:Kd(e,r);else{try{n.unsafe?t[e]&&(s=!0):delete t[e]}catch{}s?t[e]=r:Vd.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},va={},Jd=Math.ceil,Xd=Math.floor,Qd=Math.trunc||function(e){var r=+e;return(r>0?Xd:Jd)(r)},Zd=Qd,pr=function(t){var e=+t;return e!==e||e===0?0:Zd(e)},ep=pr,tp=Math.max,rp=Math.min,np=function(t,e){var r=ep(t);return r<0?tp(r+e,0):rp(r,e)},sp=pr,op=Math.min,ma=function(t){return t>0?op(sp(t),9007199254740991):0},ip=ma,xa=function(t){return ip(t.length)},ap=Yr,fp=np,lp=xa,ya=function(t){return function(e,r,n){var s=ap(e),o=lp(s),i=fp(n,o),a;if(t&&r!=r){for(;o>i;)if(a=s[i++],a!=a)return!0}else for(;o>i;i++)if((t||i in s)&&s[i]===r)return t||i||0;return!t&&-1}},up={includes:ya(!0),indexOf:ya(!1)},cp=ge,ks=vt,_p=Yr,dp=up.indexOf,pp=ms,ba=cp([].push),wa=function(t,e){var r=_p(t),n=0,s=[],o;for(o in r)!ks(pp,o)&&ks(r,o)&&ba(s,o);for(;e.length>n;)ks(r,o=e[n++])&&(~dp(s,o)||ba(s,o));return s},Es=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hp=wa,gp=Es,vp=gp.concat("length","prototype");va.f=Object.getOwnPropertyNames||function(e){return hp(e,vp)};var Sa={};Sa.f=Object.getOwnPropertySymbols;var mp=Qn,xp=ge,yp=va,bp=Sa,wp=It,Sp=xp([].concat),kp=mp("Reflect","ownKeys")||function(e){var r=yp.f(wp(e)),n=bp.f;return n?Sp(r,n(e)):r},ka=vt,Ep=kp,$p=qn,Tp=zt,Op=function(t,e,r){for(var n=Ep(e),s=Tp.f,o=$p.f,i=0;i<n.length;i++){var a=n[i];!ka(t,a)&&!(r&&ka(r,a))&&s(t,a,o(e,a))}},Pp=Ae,Ip=$e,Rp=/#|\.prototype\./,hr=function(t,e){var r=Ap[Cp(t)];return r==Dp?!0:r==Np?!1:Ip(e)?Pp(e):!!e},Cp=hr.normalize=function(t){return String(t).replace(Rp,".").toLowerCase()},Ap=hr.data={},Np=hr.NATIVE="N",Dp=hr.POLYFILL="P",Fp=hr,$s=Ce,Mp=qn.f,Lp=ps,Up=ga,jp=ss,Bp=Op,Hp=Fp,Ts=function(t,e){var r=t.target,n=t.global,s=t.stat,o,i,a,f,l,c;if(n?i=$s:s?i=$s[r]||jp(r,{}):i=($s[r]||{}).prototype,i)for(a in e){if(l=e[a],t.dontCallGetSet?(c=Mp(i,a),f=c&&c.value):f=i[a],o=Hp(n?a:r+(s?".":"#")+a,t.forced),!o&&f!==void 0){if(typeof l==typeof f)continue;Bp(l,f)}(t.sham||f&&f.sham)&&Lp(l,"sham",!0),Up(i,a,l,t)}},Ea={},zp=wa,Wp=Es,Gp=Object.keys||function(e){return zp(e,Wp)},qp=ht,Vp=sa,Yp=zt,Kp=It,Jp=Yr,Xp=Gp;Ea.f=qp&&!Vp?Object.defineProperties:function(e,r){Kp(e);for(var n=Jp(r),s=Xp(r),o=s.length,i=0,a;o>i;)Yp.f(e,a=s[i++],n[a]);return e};var Qp=Qn,Zp=Qp("document","documentElement"),eh=It,th=Ea,$a=Es,rh=ms,nh=Zp,sh=ta,oh=ua,Ta=">",Oa="<",Os="prototype",Ps="script",Pa=oh("IE_PROTO"),Is=function(){},Ia=function(t){return Oa+Ps+Ta+t+Oa+"/"+Ps+Ta},Ra=function(t){t.write(Ia("")),t.close();var e=t.parentWindow.Object;return t=null,e},ih=function(){var t=sh("iframe"),e="java"+Ps+":",r;return t.style.display="none",nh.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(Ia("document.F=Object")),r.close(),r.F},tn,rn=function(){try{tn=new ActiveXObject("htmlfile")}catch{}rn=typeof document<"u"?document.domain&&tn?Ra(tn):ih():Ra(tn);for(var t=$a.length;t--;)delete rn[Os][$a[t]];return rn()};rh[Pa]=!0;var Ca=Object.create||function(e,r){var n;return e!==null?(Is[Os]=eh(e),n=new Is,Is[Os]=null,n[Pa]=e):n=rn(),r===void 0?n:th.f(n,r)},ah=mt,fh=Ca,lh=zt.f,Rs=ah("unscopables"),Cs=Array.prototype;Cs[Rs]==null&&lh(Cs,Rs,{configurable:!0,value:fh(null)});var uh=function(t){Cs[Rs][t]=!0},ch=Ts,_h=as,dh=xa,ph=pr,hh=uh;ch({target:"Array",proto:!0},{at:function(e){var r=_h(this),n=dh(r),s=ph(e),o=s>=0?s:n+s;return o<0||o>=n?void 0:r[o]}}),hh("at");var gh=Ce,vh=ge,Aa=function(t,e){return vh(gh[t].prototype[e])},mh=Aa;mh("Array","at");var xh=Bt,yh=cr,bh=mt,wh=bh("match"),Sh=function(t){var e;return xh(t)&&((e=t[wh])!==void 0?!!e:yh(t)=="RegExp")},kh=mt,Eh=kh("toStringTag"),Na={};Na[Eh]="z";var $h=String(Na)==="[object z]",Th=$h,Oh=$e,nn=cr,Ph=mt,Ih=Ph("toStringTag"),Rh=Object,Ch=nn(function(){return arguments}())=="Arguments",Ah=function(t,e){try{return t[e]}catch{}},Nh=Th?nn:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Ah(e=Rh(t),Ih))=="string"?r:Ch?nn(e):(n=nn(e))=="Object"&&Oh(e.callee)?"Arguments":n},Dh=Nh,Fh=String,sn=function(t){if(Dh(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Fh(t)},Mh=It,Da=function(){var t=Mh(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Lh=gt,Uh=vt,jh=Di,Bh=Da,Fa=RegExp.prototype,Hh=function(t){var e=t.flags;return e===void 0&&!("flags"in Fa)&&!Uh(t,"flags")&&jh(Fa,t)?Lh(Bh,t):e},As=ge,zh=as,Wh=Math.floor,Ns=As("".charAt),Gh=As("".replace),Ds=As("".slice),qh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Vh=/\$([$&'`]|\d{1,2})/g,Ma=function(t,e,r,n,s,o){var i=r+t.length,a=n.length,f=Vh;return s!==void 0&&(s=zh(s),f=qh),Gh(o,f,function(l,c){var u;switch(Ns(c,0)){case"$":return"$";case"&":return t;case"`":return Ds(e,0,r);case"'":return Ds(e,i);case"<":u=s[Ds(c,1,-1)];break;default:var h=+c;if(h===0)return l;if(h>a){var d=Wh(h/10);return d===0?l:d<=a?n[d-1]===void 0?Ns(c,1):n[d-1]+Ns(c,1):l}u=n[h-1]}return u===void 0?"":u})},Yh=Ts,Kh=gt,Fs=ge,La=_r,Jh=$e,Xh=Vr,Qh=Sh,gr=sn,Zh=es,eg=Hh,tg=Ma,rg=mt,ng=rg("replace"),sg=TypeError,Ua=Fs("".indexOf);Fs("".replace);var ja=Fs("".slice),og=Math.max,Ba=function(t,e,r){return r>t.length?-1:e===""?r:Ua(t,e,r)};Yh({target:"String",proto:!0},{replaceAll:function(e,r){var n=La(this),s,o,i,a,f,l,c,u,h,d=0,v=0,g="";if(!Xh(e)){if(s=Qh(e),s&&(o=gr(La(eg(e))),!~Ua(o,"g")))throw sg("`.replaceAll` does not allow non-global regexes");if(i=Zh(e,ng),i)return Kh(i,e,n,r)}for(a=gr(n),f=gr(e),l=Jh(r),l||(r=gr(r)),c=f.length,u=og(1,c),d=Ba(a,f,0);d!==-1;)h=l?gr(r(f,d,a)):tg(f,a,d,[],void 0,r),g+=ja(a,v,d)+h,v=d+c,d=Ba(a,f,d+u);return v<a.length&&(g+=ja(a,v)),g}});var Ms=Ae,ig=Ce,Ls=ig.RegExp,Us=Ms(function(){var t=Ls("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),ag=Us||Ms(function(){return!Ls("a","y").sticky}),fg=Us||Ms(function(){var t=Ls("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),lg={BROKEN_CARET:fg,MISSED_STICKY:ag,UNSUPPORTED_Y:Us},ug=Ae,cg=Ce,_g=cg.RegExp,dg=ug(function(){var t=_g(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),pg=Ae,hg=Ce,gg=hg.RegExp,vg=pg(function(){var t=gg("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Gt=gt,on=ge,mg=sn,xg=Da,yg=lg,bg=is,wg=Ca,Sg=da.get,kg=dg,Eg=vg,$g=bg("native-string-replace",String.prototype.replace),an=RegExp.prototype.exec,js=an,Tg=on("".charAt),Og=on("".indexOf),Pg=on("".replace),Bs=on("".slice),Hs=function(){var t=/a/,e=/b*/g;return Gt(an,t,"a"),Gt(an,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),Ha=yg.BROKEN_CARET,zs=/()??/.exec("")[1]!==void 0,Ig=Hs||zs||Ha||kg||Eg;Ig&&(js=function(e){var r=this,n=Sg(r),s=mg(e),o=n.raw,i,a,f,l,c,u,h;if(o)return o.lastIndex=r.lastIndex,i=Gt(js,o,s),r.lastIndex=o.lastIndex,i;var d=n.groups,v=Ha&&r.sticky,g=Gt(xg,r),w=r.source,y=0,k=s;if(v&&(g=Pg(g,"y",""),Og(g,"g")===-1&&(g+="g"),k=Bs(s,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&Tg(s,r.lastIndex-1)!==`
`)&&(w="(?: "+w+")",k=" "+k,y++),a=new RegExp("^(?:"+w+")",g)),zs&&(a=new RegExp("^"+w+"$(?!\\s)",g)),Hs&&(f=r.lastIndex),l=Gt(an,v?a:r,k),v?l?(l.input=Bs(l.input,y),l[0]=Bs(l[0],y),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:Hs&&l&&(r.lastIndex=r.global?l.index+l[0].length:f),zs&&l&&l.length>1&&Gt($g,l[0],a,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&d)for(l.groups=u=wg(null),c=0;c<d.length;c++)h=d[c],u[h[0]]=l[h[1]];return l});var Ws=js,Rg=Ts,za=Ws;Rg({target:"RegExp",proto:!0,forced:/./.exec!==za},{exec:za});var Cg=Vn,Wa=Function.prototype,Ga=Wa.apply,qa=Wa.call,Ag=typeof Reflect=="object"&&Reflect.apply||(Cg?qa.bind(Ga):function(){return qa.apply(Ga,arguments)}),Ng=cr,Dg=ge,Fg=function(t){if(Ng(t)==="Function")return Dg(t)},Va=Fg,Ya=ga,Mg=Ws,Ka=Ae,Ja=mt,Lg=ps,Ug=Ja("species"),Gs=RegExp.prototype,jg=function(t,e,r,n){var s=Ja(t),o=!Ka(function(){var l={};return l[s]=function(){return 7},""[t](l)!=7}),i=o&&!Ka(function(){var l=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[Ug]=function(){return c},c.flags="",c[s]=/./[s]),c.exec=function(){return l=!0,null},c[s](""),!l});if(!o||!i||r){var a=Va(/./[s]),f=e(s,""[t],function(l,c,u,h,d){var v=Va(l),g=c.exec;return g===Mg||g===Gs.exec?o&&!d?{done:!0,value:a(c,u,h)}:{done:!0,value:v(u,c,h)}:{done:!1}});Ya(String.prototype,t,f[0]),Ya(Gs,s,f[1])}n&&Lg(Gs[s],"sham",!0)},qs=ge,Bg=pr,Hg=sn,zg=_r,Wg=qs("".charAt),Xa=qs("".charCodeAt),Gg=qs("".slice),Qa=function(t){return function(e,r){var n=Hg(zg(e)),s=Bg(r),o=n.length,i,a;return s<0||s>=o?t?"":void 0:(i=Xa(n,s),i<55296||i>56319||s+1===o||(a=Xa(n,s+1))<56320||a>57343?t?Wg(n,s):i:t?Gg(n,s,s+2):(i-55296<<10)+(a-56320)+65536)}},qg={codeAt:Qa(!1),charAt:Qa(!0)},Vg=qg.charAt,Yg=function(t,e,r){return e+(r?Vg(t,e).length:1)},Za=gt,Kg=It,Jg=$e,Xg=cr,Qg=Ws,Zg=TypeError,ev=function(t,e){var r=t.exec;if(Jg(r)){var n=Za(r,t,e);return n!==null&&Kg(n),n}if(Xg(t)==="RegExp")return Za(Qg,t,e);throw Zg("RegExp#exec called on incompatible receiver")},tv=Ag,ef=gt,fn=ge,rv=jg,nv=Ae,sv=It,ov=$e,iv=Vr,av=pr,fv=ma,qt=sn,lv=_r,uv=Yg,cv=es,_v=Ma,dv=ev,pv=mt,Vs=pv("replace"),hv=Math.max,gv=Math.min,vv=fn([].concat),Ys=fn([].push),tf=fn("".indexOf),rf=fn("".slice),mv=function(t){return t===void 0?t:String(t)},xv=function(){return"a".replace(/./,"$0")==="$0"}(),nf=function(){return/./[Vs]?/./[Vs]("a","$0")==="":!1}(),yv=!nv(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});rv("replace",function(t,e,r){var n=nf?"$":"$0";return[function(o,i){var a=lv(this),f=iv(o)?void 0:cv(o,Vs);return f?ef(f,o,a,i):ef(e,qt(a),o,i)},function(s,o){var i=sv(this),a=qt(s);if(typeof o=="string"&&tf(o,n)===-1&&tf(o,"$<")===-1){var f=r(e,i,a,o);if(f.done)return f.value}var l=ov(o);l||(o=qt(o));var c=i.global;if(c){var u=i.unicode;i.lastIndex=0}for(var h=[];;){var d=dv(i,a);if(d===null||(Ys(h,d),!c))break;var v=qt(d[0]);v===""&&(i.lastIndex=uv(a,fv(i.lastIndex),u))}for(var g="",w=0,y=0;y<h.length;y++){d=h[y];for(var k=qt(d[0]),U=hv(gv(av(d.index),a.length),0),P=[],C=1;C<d.length;C++)Ys(P,mv(d[C]));var F=d.groups;if(l){var j=vv([k],P,U,a);F!==void 0&&Ys(j,F);var O=qt(tv(o,void 0,j))}else O=_v(k,a,U,P,F,o);U>=w&&(g+=rf(a,w,U)+O,w=U+k.length)}return g+rf(a,w)}]},!yv||!xv||nf);var bv=Aa;bv("String","replaceAll");var sf=(t=>(t.Production="production",t.Development="development",t.Test="test",t))(sf||{}),q=(t=>(t.ShopifyOnlineStore="ShopifyOnlineStore",t.ShopifyOrderStatus="ShopifyOrderStatus",t.ShopifyCheckoutContact="ShopifyCheckoutContact",t.ShopifyCheckoutShipping="ShopifyCheckoutShipping",t.ShopifyCheckoutPayment="ShopifyCheckoutPayment",t.ShopifyCheckoutUnknown="ShopifyCheckoutUnknown",t.RechargeCheckout="RechargeCheckout",t.RechargeOrderStatus="RechargeOrderStatus",t.Unknown="Unknown",t))(q||{});const xt=()=>{var t,e;return(t=window.Shopify)!=null&&t.Checkout?window.Shopify.Checkout.step==="contact_information"?q.ShopifyCheckoutContact:window.Shopify.Checkout.step==="shipping_method"?q.ShopifyCheckoutShipping:window.Shopify.Checkout.step==="payment_method"?q.ShopifyCheckoutPayment:window.Shopify.Checkout.step==="thank_you"||window.Shopify.Checkout.isOrderStatusPage?q.ShopifyOrderStatus:q.ShopifyCheckoutUnknown:(e=window.Shopify)!=null&&e.checkout?q.RechargeOrderStatus:window.cart_json?q.RechargeCheckout:window.ShopifyAnalytics?q.ShopifyOnlineStore:q.Unknown},Te=t=>t==="online_store"?Te([q.ShopifyOnlineStore,q.Unknown]):t==="order_status"?Te([q.ShopifyOrderStatus,q.RechargeOrderStatus]):t==="shopify_checkout"?Te([q.ShopifyCheckoutContact,q.ShopifyCheckoutShipping,q.ShopifyCheckoutPayment]):t instanceof Array?t.includes(xt()):xt()===t,wv="superfiliate_suspect_code",Sv="discount_code",of=()=>{const t=/^_shopify_sa_p/,e=/^utm_/,r=/^_shopify_sa_t/,n={utm_timestamp:"",utm_data_source:"shopify_cookie"};let s="";if(document.cookie.split(";").map(i=>i.trim()).forEach(i=>{t.test(i)&&(s=i),r.test(i)&&(n.utm_timestamp=decodeURIComponent(i.split("=")[1]))}),!s||!s.includes("="))return;const o=s.split("=")[1];try{decodeURIComponent(o).split("&").forEach(i=>{const a=i.split("=")[0],f=i.split("=")[1];e.test(a)&&(n[a]=decodeURIComponent(f))})}catch{return}if(!(Object.keys(n).length<=2))return n},af=()=>{const t=new URL(window.location.href),{searchParams:e}=t;return{utm_data_source:e.get("utm_data_source")||void 0,utm_timestamp:e.get("utm_timestamp")||void 0,utm_campaign:e.get("utm_campaign")||void 0,utm_content:e.get("utm_content")||void 0,utm_source:e.get("utm_source")||void 0,utm_medium:e.get("utm_medium")||void 0,utm_audience:e.get("utm_audience")||void 0,utm_target:e.get("utm_target")||void 0,utm_incentive:e.get("utm_incentive")||void 0,utm_campaign_id:e.get("utm_campaign_id")||void 0,utm_campaign_name:e.get("utm_campaign_name")||void 0}},ff=t=>{const r=` ${document.cookie};`.match(new RegExp(` ${t}=(.*?);`));return r?r[1]:null},vr=()=>ff(Sv),kv=()=>ff(wv);window.$superfiliateStorefront.shopifyUtmParams={getShopifyCookiesUtmParams:of,getShopifyAutoApplyDiscountCode:vr};const Ks=()=>vr(),lf=()=>{const t=Ks();return t?`&discount=${t}`:""},Ev=()=>{const t=lf();return t?[t.replace("&","")]:[]},$v="sf-code",uf="!!INITIAL!!",Tv=()=>{if(!Te(q.ShopifyOnlineStore))return;let t=uf;setInterval(async()=>{const e=Ks();t!==e&&(!e&&t===uf||!e&&!kv()||(await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attributes:{[$v]:e||""}})}),t=e))},1e3)},Ov=()=>{window.$superfiliateStorefront.discountUtils={discoverDiscount:Ks,discountAsQueryParam:lf,discountAsQueryArray:Ev},Tv()};var cf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var i=typeof o;if(i==="string"||i==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(i==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var f in o)e.call(o,f)&&o[f]&&n.push(f)}}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(cf);var Pv=cf.exports;const _f=Si(Pv),df={cn:_f},I=(...t)=>df.cn(...t);let Js="";const Iv=(t,e)=>{const r=e.split(":"),n=r.slice(0,r.length-1);let s=r[r.length-1],o=`${t}${s}`;return s.startsWith("!-")&&(s=s.slice(2,s.length),o=`!-${t}${s}`),s.startsWith("!")&&(s=s.slice(1,s.length),o=`!${t}${s}`),s.startsWith("-")&&(s=s.slice(1,s.length),o=`-${t}${s}`),n.length===0?o:`${n.join(":")}:${o}`},Rv=(...t)=>_f(...t).split(Js).join("").split(" ").map(r=>Iv(Js,r)).join(" "),Cv=t=>{Js=t,df.cn=Rv},Xs=t=>{let e;typeof t=="string"?e=new Error(t):e=t,console.error(e)};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.reportError=Xs;const pf="responseText could not be pulled",hf=async(t,e=[200,201,204])=>{let r,n,s;try{r=await t.text()}catch{r=pf}try{n=JSON.parse(r||"null")}catch{n=void 0}if(e.includes(t.status)?r===pf?s=new Error(`Unexpected response text body, status ${t.status}, from ${t.url}`):n===void 0&&(s=new Error(`Unexpected response bad JSON body, status ${t.status}, from ${t.url}`)):s=new Error(`Unexpected response status, status ${t.status}, from ${t.url}`),s)throw s.response=t,s.responseText=r,s.responseJson=n,s;return n||null};var mr,A,gf,Rt,vf,mf,Qs,Zs,eo,to,xf,xr={},yf=[],Av=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ln=Array.isArray;function nt(t,e){for(var r in e)t[r]=e[r];return t}function bf(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function st(t,e,r){var n,s,o,i={};for(o in e)o=="key"?n=e[o]:o=="ref"?s=e[o]:i[o]=e[o];if(arguments.length>2&&(i.children=arguments.length>3?mr.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)i[o]===void 0&&(i[o]=t.defaultProps[o]);return yr(t,i,n,s,null)}function yr(t,e,r,n,s){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++gf,__i:-1,__u:0};return s==null&&A.vnode!=null&&A.vnode(o),o}function Nv(){return{current:null}}function Oe(t){return t.children}function qe(t,e){this.props=t,this.context=e}function Vt(t,e){if(e==null)return t.__?Vt(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Vt(t):null}function wf(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return wf(t)}}function ro(t){(!t.__d&&(t.__d=!0)&&Rt.push(t)&&!un.__r++||vf!==A.debounceRendering)&&((vf=A.debounceRendering)||mf)(un)}function un(){var t,e,r,n,s,o,i,a;for(Rt.sort(Qs);t=Rt.shift();)t.__d&&(e=Rt.length,n=void 0,o=(s=(r=t).__v).__e,i=[],a=[],r.__P&&((n=nt({},s)).__v=s.__v+1,A.vnode&&A.vnode(n),no(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[o]:null,i,o??Vt(s),!!(32&s.__u),a),n.__v=s.__v,n.__.__k[n.__i]=n,Tf(i,n,a),n.__e!=o&&wf(n)),Rt.length>e&&Rt.sort(Qs));un.__r=0}function Sf(t,e,r,n,s,o,i,a,f,l,c){var u,h,d,v,g,w=n&&n.__k||yf,y=e.length;for(r.__d=f,Dv(r,e,w),f=r.__d,u=0;u<y;u++)(d=r.__k[u])!=null&&(h=d.__i===-1?xr:w[d.__i]||xr,d.__i=u,no(t,d,h,s,o,i,a,f,l,c),v=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&so(h.ref,null,d),c.push(d.ref,d.__c||v,d)),g==null&&v!=null&&(g=v),65536&d.__u||h.__k===d.__k?f=kf(d,f,t):typeof d.type=="function"&&d.__d!==void 0?f=d.__d:v&&(f=v.nextSibling),d.__d=void 0,d.__u&=-196609);r.__d=f,r.__e=g}function Dv(t,e,r){var n,s,o,i,a,f=e.length,l=r.length,c=l,u=0;for(t.__k=[],n=0;n<f;n++)(s=e[n])!=null&&typeof s!="boolean"&&typeof s!="function"?(i=n+u,(s=t.__k[n]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?yr(null,s,null,null,null):ln(s)?yr(Oe,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?yr(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,o=null,(a=s.__i=Fv(s,r,i,c))!==-1&&(c--,(o=r[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&u--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a==i-1?u--:a==i+1?u++:(a>i?u--:u++,s.__u|=65536))):s=t.__k[n]=null;if(c)for(n=0;n<l;n++)(o=r[n])!=null&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=Vt(o)),Of(o,o))}function kf(t,e,r){var n,s;if(typeof t.type=="function"){for(n=t.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=t,e=kf(n[s],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=Vt(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function ot(t,e){return e=e||[],t==null||typeof t=="boolean"||(ln(t)?t.some(function(r){ot(r,e)}):e.push(t)),e}function Fv(t,e,r,n){var s=t.key,o=t.type,i=r-1,a=r+1,f=e[r];if(f===null||f&&s==f.key&&o===f.type&&!(131072&f.__u))return r;if(n>(f!=null&&!(131072&f.__u)?1:0))for(;i>=0||a<e.length;){if(i>=0){if((f=e[i])&&!(131072&f.__u)&&s==f.key&&o===f.type)return i;i--}if(a<e.length){if((f=e[a])&&!(131072&f.__u)&&s==f.key&&o===f.type)return a;a++}}return-1}function Ef(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Av.test(e)?r:r+"px"}function cn(t,e,r,n,s){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ef(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Ef(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Zs,t.addEventListener(e,o?to:eo,o)):t.removeEventListener(e,o?to:eo,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function $f(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Zs++;else if(e.t<r.u)return;return r(A.event?A.event(e):e)}}}function no(t,e,r,n,s,o,i,a,f,l){var c,u,h,d,v,g,w,y,k,U,P,C,F,j,O,te,M=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(f=!!(32&r.__u),o=[a=e.__e=r.__e]),(c=A.__b)&&c(e);e:if(typeof M=="function")try{if(y=e.props,k="prototype"in M&&M.prototype.render,U=(c=M.contextType)&&n[c.__c],P=c?U?U.props.value:c.__:n,r.__c?w=(u=e.__c=r.__c).__=u.__E:(k?e.__c=u=new M(y,P):(e.__c=u=new qe(y,P),u.constructor=M,u.render=Lv),U&&U.sub(u),u.props=y,u.state||(u.state={}),u.context=P,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),k&&u.__s==null&&(u.__s=u.state),k&&M.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=nt({},u.__s)),nt(u.__s,M.getDerivedStateFromProps(y,u.__s))),d=u.props,v=u.state,u.__v=e,h)k&&M.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),k&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(k&&M.getDerivedStateFromProps==null&&y!==d&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,P),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,P)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(u.props=y,u.state=u.__s,u.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(H){H&&(H.__=e)}),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[],u.__h.length&&i.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,P),k&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(d,v,g)})}if(u.context=P,u.props=y,u.__P=t,u.__e=!1,F=A.__r,j=0,k){for(u.state=u.__s,u.__d=!1,F&&F(e),c=u.render(u.props,u.state,u.context),O=0;O<u._sb.length;O++)u.__h.push(u._sb[O]);u._sb=[]}else do u.__d=!1,F&&F(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++j<25);u.state=u.__s,u.getChildContext!=null&&(n=nt(nt({},n),u.getChildContext())),k&&!h&&u.getSnapshotBeforeUpdate!=null&&(g=u.getSnapshotBeforeUpdate(d,v)),Sf(t,ln(te=c!=null&&c.type===Oe&&c.key==null?c.props.children:c)?te:[te],e,r,n,s,o,i,a,f,l),u.base=e.__e,e.__u&=-161,u.__h.length&&i.push(u),w&&(u.__E=u.__=null)}catch(H){if(e.__v=null,f||o!=null){for(e.__u|=f?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else e.__e=r.__e,e.__k=r.__k;A.__e(H,e,r)}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Mv(r.__e,e,r,n,s,o,i,f,l);(c=A.diffed)&&c(e)}function Tf(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)so(r[n],r[++n],r[++n]);A.__c&&A.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(o){o.call(s)})}catch(o){A.__e(o,s.__v)}})}function Mv(t,e,r,n,s,o,i,a,f){var l,c,u,h,d,v,g,w=r.props,y=e.props,k=e.type;if(k==="svg"?s="http://www.w3.org/2000/svg":k==="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((d=o[l])&&"setAttribute"in d==!!k&&(k?d.localName===k:d.nodeType===3)){t=d,o[l]=null;break}}if(t==null){if(k===null)return document.createTextNode(y);t=document.createElementNS(s,k,y.is&&y),a&&(A.__m&&A.__m(e,o),a=!1),o=null}if(k===null)w===y||a&&t.data===y||(t.data=y);else{if(o=o&&mr.call(t.childNodes),w=r.props||xr,!a&&o!=null)for(w={},l=0;l<t.attributes.length;l++)w[(d=t.attributes[l]).name]=d.value;for(l in w)if(d=w[l],l!="children"){if(l=="dangerouslySetInnerHTML")u=d;else if(!(l in y)){if(l=="value"&&"defaultValue"in y||l=="checked"&&"defaultChecked"in y)continue;cn(t,l,null,d,s)}}for(l in y)d=y[l],l=="children"?h=d:l=="dangerouslySetInnerHTML"?c=d:l=="value"?v=d:l=="checked"?g=d:a&&typeof d!="function"||w[l]===d||cn(t,l,d,w[l],s);if(c)a||u&&(c.__html===u.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(u&&(t.innerHTML=""),Sf(t,ln(h)?h:[h],e,r,n,k==="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,i,o?o[0]:r.__k&&Vt(r,0),a,f),o!=null)for(l=o.length;l--;)bf(o[l]);a||(l="value",k==="progress"&&v==null?t.removeAttribute("value"):v!==void 0&&(v!==t[l]||k==="progress"&&!v||k==="option"&&v!==w[l])&&cn(t,l,v,w[l],s),l="checked",g!==void 0&&g!==t[l]&&cn(t,l,g,w[l],s))}return t}function so(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(s){A.__e(s,r)}}function Of(t,e,r){var n,s;if(A.unmount&&A.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||so(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){A.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&Of(n[s],e,r||typeof t.type!="function");r||bf(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Lv(t,e,r){return this.constructor(t,r)}function Yt(t,e,r){var n,s,o,i;A.__&&A.__(t,e),s=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],i=[],no(e,t=(!n&&r||e).__k=st(Oe,null,[t]),s||xr,xr,e.namespaceURI,!n&&r?[r]:s?null:e.firstChild?mr.call(e.childNodes):null,o,!n&&r?r:s?s.__e:e.firstChild,n,i),Tf(o,t,i)}function Pf(t,e){Yt(t,e,Pf)}function Uv(t,e,r){var n,s,o,i,a=nt({},t.props);for(o in t.type&&t.type.defaultProps&&(i=t.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?s=e[o]:a[o]=e[o]===void 0&&i!==void 0?i[o]:e[o];return arguments.length>2&&(a.children=arguments.length>3?mr.call(arguments,2):r),yr(t.type,a,n||t.key,s||t.ref,null)}function oo(t,e){var r={__c:e="__cC"+xf++,__:t,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,o;return this.getChildContext||(s=new Set,(o={})[e]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&s.forEach(function(a){a.__e=!0,ro(a)})},this.sub=function(i){s.add(i);var a=i.componentWillUnmount;i.componentWillUnmount=function(){s&&s.delete(i),a&&a.call(i)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}mr=yf.slice,A={__e:function(t,e,r,n){for(var s,o,i;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(t)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,n||{}),i=s.__d),i)return s.__E=s}catch(a){t=a}throw t}},gf=0,qe.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nt({},this.state),typeof t=="function"&&(t=t(nt({},r),this.props)),t&&nt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ro(this))},qe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ro(this))},qe.prototype.render=Oe,Rt=[],mf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qs=function(t,e){return t.__v.__b-e.__v.__b},un.__r=0,Zs=0,eo=$f(!1),to=$f(!0),xf=0;var yt,V,io,If,Kt=0,Rf=[],X=A,Cf=X.__b,Af=X.__r,Nf=X.diffed,Df=X.__c,Ff=X.unmount,Mf=X.__;function Jt(t,e){X.__h&&X.__h(V,t,Kt||e),Kt=0;var r=V.__H||(V.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Ve(t){return Kt=1,ao(Wf,t)}function ao(t,e,r){var n=Jt(yt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Wf(void 0,e),function(a){var f=n.__N?n.__N[0]:n.__[0],l=n.t(f,a);f!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=V,!V.u)){var s=function(a,f,l){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(h){return!!h.__c});if(c.every(function(h){return!h.__N}))return!o||o.call(this,a,f,l);var u=!1;return c.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(u=!0)}}),!(!u&&n.__c.props===a)&&(!o||o.call(this,a,f,l))};V.u=!0;var o=V.shouldComponentUpdate,i=V.componentWillUpdate;V.componentWillUpdate=function(a,f,l){if(this.__e){var c=o;o=void 0,s(a,f,l),o=c}i&&i.call(this,a,f,l)},V.shouldComponentUpdate=s}return n.__N||n.__}function Be(t,e){var r=Jt(yt++,3);!X.__s&&lo(r.__H,e)&&(r.__=t,r.i=e,V.__H.__h.push(r))}function br(t,e){var r=Jt(yt++,4);!X.__s&&lo(r.__H,e)&&(r.__=t,r.i=e,V.__h.push(r))}function Lf(t){return Kt=5,bt(function(){return{current:t}},[])}function Uf(t,e,r){Kt=6,br(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function bt(t,e){var r=Jt(yt++,7);return lo(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function jf(t,e){return Kt=8,bt(function(){return t},e)}function wt(t){var e=V.context[t.__c],r=Jt(yt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(V)),e.props.value):t.__}function Bf(t,e){X.useDebugValue&&X.useDebugValue(e?e(t):t)}function Hf(){var t=Jt(yt++,11);if(!t.__){for(var e=V.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function jv(){for(var t;t=Rf.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(_n),t.__H.__h.forEach(fo),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){V=null,Cf&&Cf(t)},X.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Mf&&Mf(t,e)},X.__r=function(t){Af&&Af(t),yt=0;var e=(V=t.__c).__H;e&&(io===V?(e.__h=[],V.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(_n),e.__h.forEach(fo),e.__h=[],yt=0)),io=V},X.diffed=function(t){Nf&&Nf(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Rf.push(e)!==1&&If===X.requestAnimationFrame||((If=X.requestAnimationFrame)||Bv)(jv)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),io=V=null},X.__c=function(t,e){e.some(function(r){try{r.__h.forEach(_n),r.__h=r.__h.filter(function(n){return!n.__||fo(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],X.__e(n,r.__v)}}),Df&&Df(t,e)},X.unmount=function(t){Ff&&Ff(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{_n(n)}catch(s){e=s}}),r.__H=void 0,e&&X.__e(e,r.__v))};var zf=typeof requestAnimationFrame=="function";function Bv(t){var e,r=function(){clearTimeout(n),zf&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);zf&&(e=requestAnimationFrame(r))}function _n(t){var e=V,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),V=e}function fo(t){var e=V;t.__c=t.__(),V=e}function lo(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Wf(t,e){return typeof e=="function"?e(t):e}function uo(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function co(t,e){this.props=t,this.context=e}function Hv(t,e){function r(s){var o=this.props.ref,i=o==s.ref;return!i&&o&&(o.call?o(null):o.current=null),e?!e(this.props,s)||!i:uo(this.props,s)}function n(s){return this.shouldComponentUpdate=r,st(t,s)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(co.prototype=new qe).isPureReactComponent=!0,co.prototype.shouldComponentUpdate=function(t,e){return uo(this.props,t)||uo(this.state,e)};var Gf=A.__b;A.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Gf&&Gf(t)};var zv=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function qf(t){function e(r){if(!("ref"in r))return t(r,null);var n=r.ref;delete r.ref;var s=t(r,n);return r.ref=n,s}return e.$$typeof=zv,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Vf=function(t,e){return t==null?null:ot(ot(t).map(e))},Wv={map:Vf,forEach:Vf,count:function(t){return t?ot(t).length:0},only:function(t){var e=ot(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ot},Gv=A.__e;A.__e=function(t,e,r,n){if(t.then){for(var s,o=e;o=o.__;)if((s=o.__c)&&s.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),s.__c(t,e)}Gv(t,e,r,n)};var Yf=A.unmount;function Kf(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=function(n,s){for(var o in s)n[o]=s[o];return n}({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return Kf(n,e,r)})),t}function Jf(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return Jf(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function dn(){this.__u=0,this.t=null,this.__b=null}function Xf(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qv(t){var e,r,n;function s(o){if(e||(e=t()).then(function(i){r=i.default||i},function(i){n=i}),n)throw n;if(!r)throw e;return st(r,o)}return s.displayName="Lazy",s.__f=!0,s}function wr(){this.u=null,this.o=null}A.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Yf&&Yf(t)},(dn.prototype=new qe).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var s=Xf(n.__v),o=!1,i=function(){o||(o=!0,r.__R=null,s?s(a):a())};r.__R=i;var a=function(){if(!--n.__u){if(n.state.__a){var f=n.state.__a;n.__v.__k[0]=Jf(f,f.__c.__P,f.__c.__O)}var l;for(n.setState({__a:n.__b=null});l=n.t.pop();)l.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(i,i)},dn.prototype.componentWillUnmount=function(){this.t=[]},dn.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Kf(this.__b,r,n.__O=n.__P)}this.__b=null}var s=e.__a&&st(Oe,null,t.fallback);return s&&(s.__u&=-33),[st(Oe,null,e.__a?null:t.children),s]};var Qf=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Vv(t){return this.getChildContext=function(){return t.context},t.children}function Yv(t){var e=this,r=t.i;e.componentWillUnmount=function(){Yt(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Yt(st(Vv,{context:e.context},t.__v),e.l)}function Kv(t,e){var r=st(Yv,{__v:t,i:e});return r.containerInfo=e,r}(wr.prototype=new qe).__a=function(t){var e=this,r=Xf(e.__v),n=e.o.get(t);return n[0]++,function(s){var o=function(){e.props.revealOrder?(n.push(s),Qf(e,t,n)):s()};r?r(o):o()}},wr.prototype.render=function(t){this.u=null,this.o=new Map;var e=ot(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},wr.prototype.componentDidUpdate=wr.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){Qf(t,r,e)})};var Zf=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jv=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Xv=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Qv=/[A-Z0-9]/g,Zv=typeof document<"u",em=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function tm(t,e,r){return e.__k==null&&(e.textContent=""),Yt(t,e),typeof r=="function"&&r(),t?t.__c:null}function rm(t,e,r){return Pf(t,e),typeof r=="function"&&r(),t?t.__c:null}qe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(qe.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var el=A.event;function nm(){}function sm(){return this.cancelBubble}function om(){return this.defaultPrevented}A.event=function(t){return el&&(t=el(t)),t.persist=nm,t.isPropagationStopped=sm,t.isDefaultPrevented=om,t.nativeEvent=t};var _o,im={enumerable:!1,configurable:!0,get:function(){return this.class}},tl=A.vnode;A.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,s={},o=n.indexOf("-")===-1;for(var i in r){var a=r[i];if(!(i==="value"&&"defaultValue"in r&&a==null||Zv&&i==="children"&&n==="noscript"||i==="class"||i==="className")){var f=i.toLowerCase();i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&a===!0?a="":f==="translate"&&a==="no"?a=!1:f[0]==="o"&&f[1]==="n"?f==="ondoubleclick"?i="ondblclick":f!=="onchange"||n!=="input"&&n!=="textarea"||em(r.type)?f==="onfocus"?i="onfocusin":f==="onblur"?i="onfocusout":Xv.test(i)&&(i=f):f=i="oninput":o&&Jv.test(i)?i=i.replace(Qv,"-$&").toLowerCase():a===null&&(a=void 0),f==="oninput"&&s[i=f]&&(i="oninputCapture"),s[i]=a}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=ot(r.children).forEach(function(l){l.props.selected=s.value.indexOf(l.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=ot(r.children).forEach(function(l){l.props.selected=s.multiple?s.defaultValue.indexOf(l.props.value)!=-1:s.defaultValue==l.props.value})),r.class&&!r.className?(s.class=r.class,Object.defineProperty(s,"className",im)):(r.className&&!r.class||r.class&&r.className)&&(s.class=s.className=r.className),e.props=s}(t),t.$$typeof=Zf,tl&&tl(t)};var rl=A.__r;A.__r=function(t){rl&&rl(t),_o=t.__c};var nl=A.diffed;A.diffed=function(t){nl&&nl(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),_o=null};var am={ReactCurrentDispatcher:{current:{readContext:function(t){return _o.__n[t.__c].props.value},useCallback:jf,useContext:wt,useDebugValue:Bf,useDeferredValue:ol,useEffect:Be,useId:Hf,useImperativeHandle:Uf,useInsertionEffect:al,useLayoutEffect:br,useMemo:bt,useReducer:ao,useRef:Lf,useState:Ve,useSyncExternalStore:fl,useTransition:il}}};function fm(t){return st.bind(null,t)}function pn(t){return!!t&&t.$$typeof===Zf}function lm(t){return pn(t)&&t.type===Oe}function um(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function cm(t){return pn(t)?Uv.apply(null,arguments):t}function _m(t){return!!t.__k&&(Yt(null,t),!0)}function dm(t){return t&&(t.base||t.nodeType===1&&t)||null}var pm=function(t,e){return t(e)},hm=function(t,e){return t(e)},gm=Oe;function sl(t){t()}function ol(t){return t}function il(){return[!1,sl]}var al=br,vm=pn;function fl(t,e){var r=e(),n=Ve({h:{__:r,v:e}}),s=n[0].h,o=n[1];return br(function(){s.__=r,s.v=e,po(s)&&o({h:s})},[t,r,e]),Be(function(){return po(s)&&o({h:s}),t(function(){po(s)&&o({h:s})})},[t]),r}function po(t){var e,r,n=t.v,s=t.__;try{var o=n();return!((e=s)===(r=o)&&(e!==0||1/e==1/r)||e!=e&&r!=r)}catch{return!0}}var ho={useState:Ve,useId:Hf,useReducer:ao,useEffect:Be,useLayoutEffect:br,useInsertionEffect:al,useTransition:il,useDeferredValue:ol,useSyncExternalStore:fl,startTransition:sl,useRef:Lf,useImperativeHandle:Uf,useMemo:bt,useCallback:jf,useContext:wt,useDebugValue:Bf,version:"18.3.1",Children:Wv,render:tm,hydrate:rm,unmountComponentAtNode:_m,createPortal:Kv,createElement:st,createContext:oo,createFactory:fm,cloneElement:cm,createRef:Nv,Fragment:Oe,isValidElement:pn,isElement:vm,isFragment:lm,isMemo:um,findDOMNode:dm,Component:qe,PureComponent:co,memo:Hv,forwardRef:qf,flushSync:hm,unstable_batchedUpdates:pm,StrictMode:gm,Suspense:dn,SuspenseList:wr,lazy:qv,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:am};const Ye=()=>typeof window!="object"?{}:{...window.$superfiliateStorefront,scriptId:"superfiliate-storefront-script"},Xt=oo([{storefrontData:Ye(),loading:!1},t=>{}]);var re=(t=>(t.Open="Open",t.Hidden="Hidden",t.Folded="Folded",t))(re||{}),ce=(t=>(t.Passerby="Passerby",t.Lead="Lead",t.SuperfiliateShare="SuperfiliateShare",t.SuperfiliateReward="SuperfiliateReward",t))(ce||{});const hn="$sfIframeAuth.plainRefreshToken",go=t=>{const{sfPortalUrl:e}=window.$superfiliateStorefront.defaultSfVariables||{};return`${e}${t}`.replace("/portal/portal","/portal")},mm=t=>{if(t===ce.Lead){const e=af().utm_campaign||vr();return xm(e||"")}else if(t===ce.SuperfiliateReward){const e=vr();return ym(e||"")}else return wm()},xm=t=>go(`/portal/onSite/lead?code=${t}`),ym=t=>go(`/portal/onSite/redeem?code=${t}`),bm=()=>{var r,n,s,o,i,a,f,l;const t={customerEmail:(n=(r=window.Shopify)==null?void 0:r.checkout)==null?void 0:n.email,shopifyCustomerExternalId:(o=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:o.customer_id,shopifyOrderExternalId:(a=(i=window.Shopify)==null?void 0:i.checkout)==null?void 0:a.order_id,shopifyCheckoutToken:(l=(f=window.Shopify)==null?void 0:f.Checkout)==null?void 0:l.token},e=Object.entries(t).filter(([c,u])=>!!u).map(([c,u])=>`${c}=${encodeURIComponent(u||"")}`).join("&");return go(`/portal/postPurchase/join?${e}`)},wm=()=>{var e;const t=window.localStorage.getItem(hn);return t?`${Ye().apiBaseUrl}/redirects/portal/auth/${t}`:((e=window.$superfiliateStorefront.defaultSfVariables)==null?void 0:e.sfPortalUrl)||"#"},Sm=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==hn)return;t.data.value?window.localStorage.setItem(hn,t.data.value):window.localStorage.removeItem(hn)}catch{return}})},gn=(...t)=>{console.log("[Superfiliate]",...t)},Ct=window.$superfiliateStorefront.health.environment!=="production"||document.cookie.includes("superfiliateStorefrontDebugInProduction")?gn:(...t)=>{};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.customConsoleLog=gn,window.$superfiliateStorefront.logging.debugConsoleLog=Ct;const km={CODE_SHARED:"Code Shared",CODE_GENERATED:"Code Generated"},Em={PROGRAM_WIDGET_OPENED:"Program Widget Opened"};function ll(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ll(Object(r),!0).forEach(function(n){S(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ll(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vo(t){return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ul(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ee(t,e,r){return e&&ul(t.prototype,e),r&&ul(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}function vn(t){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vn(t)}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mo(t,e)}function $m(t,e){if(t==null)return{};var r,n,s=function(i,a){if(i==null)return{};var f,l,c={},u=Object.keys(i);for(l=0;l<u.length;l++)f=u[l],a.indexOf(f)>=0||(c[f]=i[f]);return c}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Tm(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(t)}function _l(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=vn(t);if(e){var s=vn(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Tm(this,r)}}function Sr(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var o,i,a=[],f=!0,l=!1;try{for(s=s.call(r);!(f=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);f=!0);}catch(c){l=!0,i=c}finally{try{f||s.return==null||s.return()}finally{if(l)throw i}}return a}}(t,e)||yo(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xo(t){return function(e){if(Array.isArray(e))return bo(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||yo(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yo(t,e){if(t){if(typeof t=="string")return bo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bo(t,e):void 0}}function bo(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function At(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=yo(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return i=f.done,f},e:function(f){a=!0,o=f},f:function(){try{i||r.return==null||r.return()}finally{if(a)throw o}}}}var Nt={DEBUG:!1,LIB_VERSION:"1.91.1"},Om=Array.isArray,dl=Object.prototype,pl=dl.hasOwnProperty,kr=dl.toString,_e=Om||function(t){return kr.call(t)==="[object Array]"},hl=function(t){return kr.call(t)==="[object Uint8Array]"},it=function(t){try{return/^\s*\bfunction\b/.test(t)}catch{return!1}},St=function(t){return t===Object(t)&&!_e(t)},Pm=function(t){if(St(t)){for(var e in t)if(pl.call(t,e))return!1;return!0}return!1},L=function(t){return t===void 0},Ne=function(t){return kr.call(t)=="[object String]"},Fe=function(t){return t===null},at=function(t){return kr.call(t)=="[object Number]"},wo=function(t){return kr.call(t)==="[object Boolean]"},gl=Array.prototype,vl=gl.forEach,ml=gl.indexOf,p=typeof window<"u"?window:void 0,xl=p==null?void 0:p.navigator,$=p==null?void 0:p.document,se=xl==null?void 0:xl.userAgent,ve=p??{},yl="[PostHog.js]",b={_log:function(t){if(p&&(Nt.DEBUG||ve.POSTHOG_DEBUG)&&!L(p.console)&&p.console){for(var e=("__rrweb_original__"in p.console[t])?p.console[t].__rrweb_original__:p.console[t],r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];e.apply(void 0,[yl].concat(n))}},info:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];b._log.apply(b,["log"].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];b._log.apply(b,["warn"].concat(e))},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];b._log.apply(b,["error"].concat(e))},critical:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).error.apply(t,[yl].concat(r))},uninitializedWarning:function(t){b.error("You must initialize PostHog before calling ".concat(t))}},So={},ko=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Qt(t,e,r){if(_e(t)){if(vl&&t.forEach===vl)t.forEach(e,r);else if("length"in t&&t.length===+t.length){for(var n=0,s=t.length;n<s;n++)if(n in t&&e.call(r,t[n],n)===So)return}}}function G(t,e,r){if(!Fe(t)&&!L(t)){if(_e(t))return Qt(t,e,r);for(var n in t)if(pl.call(t,n)&&e.call(r,t[n],n)===So)return}}var de=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Qt(r,function(s){for(var o in s)s[o]!==void 0&&(t[o]=s[o])}),t};function B(t,e){return t.indexOf(e)!==-1}var bl=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},wl=function(t){try{return t()}catch{return}},Sl=function(t){return function(){try{for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}catch(s){b.critical("Implementation error. Please turn on debug and contact support@posthog.com."),b.critical(s)}}},Eo=function(t){var e={};return G(t,function(r,n){Ne(r)&&r.length>0&&(e[n]=r)}),e},Im=["$performance_raw"];function Rm(t,e){return r=t,n=function(o,i){return i&&Im.indexOf(i)>-1?o:Ne(o)&&!Fe(e)?o.slice(0,e):o},s=new Set,function o(i,a){return i!==Object(i)?n?n(i,a):i:s.has(i)?void 0:(s.add(i),_e(i)?(f=[],Qt(i,function(l){f.push(o(l))})):(f={},G(i,function(l,c){s.has(l)||(f[c]=o(l,c))})),f);var f}(r);var r,n,s}function $o(t){var e,r,n,s,o,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,f=0,l="",c=[];if(!t)return t;t=Cm(t);do e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,r=o>>12&63,n=o>>6&63,s=63&o,c[f++]=i.charAt(e)+i.charAt(r)+i.charAt(n)+i.charAt(s);while(a<t.length);switch(l=c.join(""),t.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}var Cm=function(t){var e,r,n,s,o="";for(e=r=0,n=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=t.charCodeAt(s),a=null;i<128?r++:a=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),Fe(a)||(r>e&&(o+=t.substring(e,r)),o+=a,e=r=s+1)}return r>e&&(o+=t.substring(e,t.length)),o},Am=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],Nm=function(t,e){if(!t)return!1;var r=t.toLowerCase();return Am.concat(e||[]).some(function(n){var s=n.toLowerCase();return r.includes?r.includes(s):r.indexOf(s)!==-1})},Er=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,r,n,s,o){if(e)if(e.addEventListener&&!s)e.addEventListener(r,n,!!o);else{var i="on"+r,a=e[i];e[i]=function(f,l,c){return function(u){if(u=u||t(p==null?void 0:p.event)){var h,d=!0;it(c)&&(h=c(u));var v=l.call(f,u);return h!==!1&&v!==!1||(d=!1),d}}}(e,n,a)}else b.error("No valid element provided to register_event")}}();function $r(t,e){var r=function(){if(!$)return e("document not found");var n=$.createElement("script");n.type="text/javascript",n.src=t,n.onload=function(i){return e(void 0,i)},n.onerror=function(i){return e(i)};var s,o=$.querySelectorAll("body > script");o.length>0?(s=o[0].parentNode)===null||s===void 0||s.insertBefore(n,o[0]):$.body.appendChild(n)};$!=null&&$.body?r():$==null||$.addEventListener("DOMContentLoaded",r)}function mn(t){switch(vo(t.className)){case"string":return t.className;case"object":return("baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";default:return""}}function xn(t){var e="";return yn(t)&&!Tl(t)&&t.childNodes&&t.childNodes.length&&G(t.childNodes,function(r){El(r)&&r.textContent&&(e+=ko(r.textContent).split(/(\s+)/).filter(Zt).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),ko(e)}function kl(t){return!!t&&t.nodeType===1}function Dt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function El(t){return!!t&&t.nodeType===3}function $l(t){return!!t&&t.nodeType===11}var To=["a","button","form","input","select","textarea","label"];function yn(t){for(var e=t;e.parentNode&&!Dt(e,"body");e=e.parentNode){var r=mn(e).split(" ");if(B(r,"ph-sensitive")||B(r,"ph-no-capture"))return!1}if(B(mn(t).split(" "),"ph-include"))return!0;var n=t.type||"";if(Ne(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(Ne(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function Tl(t){return!!(Dt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Dt(t,"select")||Dt(t,"textarea")||t.getAttribute("contenteditable")==="true")}function Zt(t){return!(Fe(t)||L(t)||Ne(t)&&(t=ko(t),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(t)))}function Ol(t){var e=xn(t);return Zt(e="".concat(e," ").concat(Pl(t)).trim())?e:""}function Pl(t){var e="";return t&&t.childNodes&&t.childNodes.length&&G(t.childNodes,function(r){var n;if(r&&((n=r.tagName)===null||n===void 0?void 0:n.toLowerCase())==="span")try{var s=xn(r);e="".concat(e," ").concat(s).trim(),r.childNodes&&r.childNodes.length&&(e="".concat(e," ").concat(Pl(r)).trim())}catch(o){b.error(o)}}),e}var Dm=function(){function t(e){Z(this,t),this.clicks=[],this.enabled=e}return ee(t,[{key:"isRageClick",value:function(e,r,n){if(!this.enabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(r-s.y)<30&&n-s.timestamp<1e3){if(this.clicks.push({x:e,y:r,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:r,timestamp:n}];return!1}}]),t}(),Il="$people_distinct_id",bn="__alias",Tr="__timers",Rl="$autocapture_disabled_server_side",Oo="$session_recording_enabled_server_side",Cl="$console_log_recording_enabled_server_side",Al="$session_recording_recorder_version_server_side",Nl="$session_recording_network_payload_capture",wn="$sesid",Sn="$session_is_sampled",er="$enabled_feature_flags",Po="$early_access_features",tr="$stored_person_properties",kt="$stored_group_properties",Io="$surveys",kn="$flag_call_reported",Ro="$user_state",Co="$posthog_quota_limited",Ao="$client_session_props",Fm=[Il,bn,"__cmpns",Tr,Oo,wn,er,Ro,Co,Po,kt,tr,Io,kn,Ao];function No(t,e){return e.length>t?e.slice(0,t)+"...":e}var Et={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(t){var e,r=Fe(this._isDisabledServerSide)?!((e=t.persistence)===null||e===void 0||!e.props[Rl]):this._isDisabledServerSide,n=!!t.config.autocapture;this._isAutocaptureEnabled=n&&!r},_previousElementSibling:function(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!kl(e));return e},_getAugmentPropertiesFromElement:function(t){if(!yn(t))return{};var e={};return G(t.attributes,function(r){if(r.name.indexOf("data-ph-capture-attribute")===0){var n=r.name.replace("data-ph-capture-attribute-",""),s=r.value;n&&s&&Zt(s)&&(e[n]=s)}}),e},_getPropertiesFromElement:function(t,e,r){var n,s=t.tagName.toLowerCase(),o={tag_name:s};To.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=No(1024,Ol(t)):o.$el_text=No(1024,xn(t)));var i=mn(t);i.length>0&&(o.classes=i.split(" ").filter(function(u){return u!==""}));var a=(n=this.config)===null||n===void 0?void 0:n.element_attribute_ignorelist;G(t.attributes,function(u){var h;Tl(t)&&["name","id","class"].indexOf(u.name)===-1||a!=null&&a.includes(u.name)||!e&&Zt(u.value)&&(h=u.name,!Ne(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")&&(o["attr__"+u.name]=No(1024,u.value))});for(var f=1,l=1,c=t;c=this._previousElementSibling(c);)f++,c.tagName===t.tagName&&l++;return o.nth_child=f,o.nth_of_type=l,o},_getDefaultProperties:function(t){return{$event_type:t,$ce_version:1}},_extractCustomPropertyValue:function(t){var e=[];return G($==null?void 0:$.querySelectorAll(t.css_selector),function(r){var n;["input","select"].indexOf(r.tagName.toLowerCase())>-1?n=r.value:r.textContent&&(n=r.textContent),Zt(n)&&e.push(n)}),e.join(", ")},_getCustomProperties:function(t){var e=this,r={};return G(this._customProperties,function(n){G(n.event_selectors,function(s){G($==null?void 0:$.querySelectorAll(s),function(o){B(t,o)&&yn(o)&&(r[n.name]=e._extractCustomPropertyValue(n))})})}),r},_getEventTarget:function(t){return L(t.target)?t.srcElement||null:(e=t.target)!==null&&e!==void 0&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e},_captureEvent:function(t,e){var r,n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$autocapture",o=this._getEventTarget(t);if(El(o)&&(o=o.parentNode||null),s==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,e,"$rageclick"),o&&function(g,w){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!p||!g||Dt(g,"html")||!kl(g))return!1;if(y!=null&&y.url_allowlist){var k=p.location.href,U=y.url_allowlist;if(U&&!U.some(function(Q){return k.match(Q)}))return!1}if(y!=null&&y.dom_event_allowlist){var P=y.dom_event_allowlist;if(P&&!P.some(function(Q){return w.type===Q}))return!1}if(y!=null&&y.element_allowlist){var C=y.element_allowlist;if(C&&!C.some(function(Q){return g.tagName.toLowerCase()===Q}))return!1}if(y!=null&&y.css_selector_allowlist){var F=y.css_selector_allowlist;if(F&&!F.some(function(Q){return g.matches(Q)}))return!1}for(var j=!1,O=[g],te=!0,M=g;M.parentNode&&!Dt(M,"body");)if($l(M.parentNode))O.push(M.parentNode.host),M=M.parentNode.host;else{if(!(te=M.parentNode||!1))break;if(To.indexOf(te.tagName.toLowerCase())>-1)j=!0;else{var H=p.getComputedStyle(te);H&&H.getPropertyValue("cursor")==="pointer"&&(j=!0)}O.push(te),M=te}var ie=p.getComputedStyle(g);if(ie&&ie.getPropertyValue("cursor")==="pointer"&&w.type==="click")return!0;var me=g.tagName.toLowerCase();switch(me){case"html":return!1;case"form":return w.type==="submit";case"input":case"select":case"textarea":return w.type==="change"||w.type==="click";default:return j?w.type==="click":w.type==="click"&&(To.indexOf(me)>-1||g.getAttribute("contenteditable")==="true")}}(o,t,this.config)){for(var i,a,f=[o],l=o;l.parentNode&&!Dt(l,"body");)$l(l.parentNode)?(f.push(l.parentNode.host),l=l.parentNode.host):(f.push(l.parentNode),l=l.parentNode);var c,u=[],h={},d=!1;if(G(f,function(g){var w=yn(g);g.tagName.toLowerCase()==="a"&&(c=g.getAttribute("href"),c=w&&Zt(c)&&c),B(mn(g).split(" "),"ph-no-capture")&&(d=!0),u.push(n._getPropertiesFromElement(g,e.config.mask_all_element_attributes,e.config.mask_all_text));var y=n._getAugmentPropertiesFromElement(g);de(h,y)}),e.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?u[0].$el_text=Ol(o):u[0].$el_text=xn(o)),c&&(u[0].attr__href=c),d)return!1;var v=de(this._getDefaultProperties(t.type),{$elements:u},(i=u[0])!==null&&i!==void 0&&i.$el_text?{$el_text:(a=u[0])===null||a===void 0?void 0:a.$el_text}:{},this._getCustomProperties(f),h);return e.capture(s,v),!0}},_navigate:function(t){p&&(p.location.href=t)},_addDomEventHandlers:function(t){var e=this;if(p&&$){var r=function(n){n=n||(p==null?void 0:p.event),e._captureEvent(n,t)};Er($,"submit",r,!1,!0),Er($,"change",r,!1,!0),Er($,"click",r,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(t){var e;wo(t.__autocapture)||(this.config=t.__autocapture),(e=this.config)!==null&&e!==void 0&&e.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(r){return new RegExp(r)})),this.rageclicks=new Dm(t.config.rageclick)},afterDecideResponse:function(t,e){var r=e.config.token;this._initializedTokens.indexOf(r)>-1?b.info('autocapture already initialized for token "'+r+'"'):(e.persistence&&e.persistence.register(S({},Rl,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this._setIsAutocaptureEnabled(e),this._initializedTokens.push(r),t&&t.config&&t.config.enable_collect_everything&&this._isAutocaptureEnabled?(t.custom_properties&&(this._customProperties=t.custom_properties),this._addDomEventHandlers(e)):e.__autocapture=!1)},enabledForProject:function(t,e,r){if(!t)return!0;e=L(e)?10:e,r=L(r)?10:r;for(var n=0,s=0;s<t.length;s++)n+=t.charCodeAt(s);return n%e<r},isBrowserSupported:function(){return it($==null?void 0:$.querySelectorAll)}};(function(t){for(var e in t)it(t[e])&&(t[e]=t[e].bind(t))})(Et),function(t){for(var e in t)it(t[e])&&(t[e]=Sl(t[e]))}(Et);var Do="$active_feature_flags",En="$override_feature_flags",Dl="$feature_flag_payloads",Fl=function(t){var e,r={},n=At(function(a){for(var f=Object.keys(a),l=f.length,c=new Array(l);l--;)c[l]=[f[l],a[f[l]]];return c}(t||{}));try{for(n.s();!(e=n.n()).done;){var s=Sr(e.value,2),o=s[0],i=s[1];i&&(r[o]=i)}}catch(a){n.e(a)}finally{n.f()}return r},Mm=function(){function t(e){Z(this,t),this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return ee(t,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(er),r=this.instance.get_property(En);if(!r)return e||{};for(var n=de({},e),s=Object.keys(r),o=0;o<s.length;o++)r[s[o]]===!1?delete n[s[o]]:n[s[o]]=r[s[o]];return this._override_warning||(b.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:r,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Dl)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;this.setReloadingPaused(!0);var r=this.instance.config.token,n=this.instance.get_property(tr),s=this.instance.get_property(kt),o=$o(JSON.stringify({token:r,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:s,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:o},{method:"POST"},this.instance._prepare_callback(function(i){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(i),e.setReloadingPaused(!1),e._startReloadTimer()}))}},{key:"getFeatureFlag",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,s=this.getFlagVariants()[e],o="".concat(s),i=this.instance.get_property(kn)||{};return(r.send_event||!("send_event"in r))&&(!(e in i)||!i[e].includes(o))&&(_e(i[e])?i[e].push(o):i[e]=[o],(n=this.instance.persistence)===null||n===void 0||n.register(S({},kn,i)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:s})),s}b.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,r);b.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(r){return r!==e})}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),n=this.getFlagPayloads();(function(s,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=s.featureFlags,l=s.featureFlagPayloads;if(f)if(_e(f)){var c,u={};if(f)for(var h=0;h<f.length;h++)u[f[h]]=!0;o&&o.register((S(c={},Do,f),S(c,er,u),c))}else{var d,v=f,g=l;s.errorsWhileComputingFlags&&(v=R(R({},i),v),g=R(R({},a),g)),o&&o.register((S(d={},Do,Object.keys(Fl(v))),S(d,er,v||{}),S(d,Dl,g||{}),d))}})(e,this.instance.persistence,r,n),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return b.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,e===!1)this.instance.persistence.unregister(En);else if(_e(e)){for(var r={},n=0;n<e.length;n++)r[e[n]]=!0;this.instance.persistence.register(S({},En,r))}else this.instance.persistence.register(S({},En,e))}},{key:"onFeatureFlags",value:function(e){var r=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),s=n.flags,o=n.flagVariants;e(s,o)}return function(){return r.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,r){var n,s,o=S({},"$feature_enrollment/".concat(e),r);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:r,$set:o}),this.setPersonPropertiesForFlags(o,!1);var i=R(R({},this.getFlagVariants()),{},S({},e,r));(n=this.instance.persistence)===null||n===void 0||n.register((S(s={},Do,Object.keys(Fl(i))),S(s,er,i),s)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(Po);if(s&&!n)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var i,a=o.earlyAccessFeatures;return(i=r.instance.persistence)===null||i===void 0||i.register(S({},Po,a)),e(a)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),r=this.getFlagVariants();return{flags:e.filter(function(n){return r[n]}),flagVariants:Object.keys(r).filter(function(n){return r[n]}).reduce(function(n,s){return n[s]=r[s],n},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),r=e.flags,n=e.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,n)})}},{key:"setPersonPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.instance.get_property(tr)||{};this.instance.register(S({},tr,R(R({},n),e))),r&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(tr)}},{key:"setGroupPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.instance.get_property(kt)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(function(s){n[s]=R(R({},n[s]),e[s]),delete e[s]}),this.instance.register(S({},kt,R(R({},n),e))),r&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var r=this.instance.get_property(kt)||{};this.instance.register(S({},kt,R(R({},r),{},S({},e,{}))))}else this.instance.unregister(kt)}}]),t}();Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return at(t)&&isFinite(t)&&Math.floor(t)===t});var Ml="0123456789abcdef",Lm=function(){function t(e){if(Z(this,t),this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}return ee(t,[{key:"toString",value:function(){for(var e="",r=0;r<this.bytes.length;r++)e=e+Ml.charAt(this.bytes[r]>>>4)+Ml.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new t(this.bytes.slice(0))}},{key:"equals",value:function(e){return this.compareTo(e)===0}},{key:"compareTo",value:function(e){for(var r=0;r<16;r++){var n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(e,r,n,s){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||r<0||n<0||s<0||e>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|r>>>8,o[7]=r,o[8]=128|n>>>24,o[9]=n>>>16,o[10]=n>>>8,o[11]=n,o[12]=s>>>24,o[13]=s>>>16,o[14]=s>>>8,o[15]=s,new t(o)}}]),t}(),Um=function(){function t(){Z(this,t),S(this,"timestamp",0),S(this,"counter",0),S(this,"random",new jm)}return ee(t,[{key:"generate",value:function(){var e=this.generateOrAbort();if(L(e)){this.timestamp=0;var r=this.generateOrAbort();if(L(r))throw new Error("Could not generate UUID after timestamp reset");return r}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Lm.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),t}(),Ll=function(t){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};p&&!L(p.crypto)&&crypto.getRandomValues&&(Ll=function(t){return crypto.getRandomValues(t)});var Ul,jm=function(){function t(){Z(this,t),S(this,"buffer",new Uint32Array(8)),S(this,"cursor",1/0)}return ee(t,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Ll(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),t}(),Ft=function(){return Bm().toString()},Bm=function(){return(Ul||(Ul=new Um)).generate()},Hm="Thu, 01 Jan 1970 00:00:00 GMT",zm=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,Wm=function(t){var e=t.match(zm);return e?e[0]:""};function Gm(t,e){if(e){var r=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$;if(!o||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),a=i.length,f="dmn_chk_"+Ft(),l=new RegExp("(^|;)\\s*"+f+"=1");a--;){var c=i.slice(a).join("."),u=f+"=1;domain=."+c;if(o.cookie=u,l.test(o.cookie))return o.cookie=u+";expires="+Hm,c}return""}(t);if(!r){var n=Wm(t);n!==r&&b.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var ft={is_supported:function(){return!!$},error:function(t){b.error("cookieStore error: "+t)},get:function(t){if($){try{for(var e=t+"=",r=$.cookie.split(";").filter(function(o){return o.length}),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},parse:function(t){var e;try{e=JSON.parse(ft.get(t))||{}}catch{}return e},set:function(t,e,r,n,s){if($)try{var o="",i="",a=Gm($.location.hostname,n);if(r){var f=new Date;f.setTime(f.getTime()+24*r*60*60*1e3),o="; expires="+f.toUTCString()}s&&(i="; secure");var l=t+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+a+i;return $.cookie=l,l}catch{return}},remove:function(t,e){try{ft.set(t,"",-1,e)}catch{return}}},Fo=null,ne={is_supported:function(){if(!Fe(Fo))return Fo;var t=!0;if(L(p))t=!1;else try{var e="__mplssupport__";ne.set(e,"xyz"),ne.get(e)!=='"xyz"'&&(t=!1),ne.remove(e)}catch{t=!1}return t||b.error("localStorage unsupported; falling back to cookie store"),Fo=t,t},error:function(t){b.error("localStorage error: "+t)},get:function(t){try{return p==null?void 0:p.localStorage.getItem(t)}catch(e){ne.error(e)}return null},parse:function(t){try{return JSON.parse(ne.get(t))||{}}catch{}return null},set:function(t,e){try{p==null||p.localStorage.setItem(t,JSON.stringify(e))}catch(r){ne.error(r)}},remove:function(t){try{p==null||p.localStorage.removeItem(t)}catch(e){ne.error(e)}}},qm=["distinct_id",wn,Sn],Mo=R(R({},ne),{},{parse:function(t){try{var e={};try{e=ft.parse(t)||{}}catch{}var r=de(e,JSON.parse(ne.get(t)||"{}"));return ne.set(t,r),r}catch{}return null},set:function(t,e,r,n,s){try{ne.set(t,e);var o={};qm.forEach(function(i){e[i]&&(o[i]=e[i])}),Object.keys(o).length&&ft.set(t,o,r,n,s)}catch(i){ne.error(i)}},remove:function(t,e){try{p==null||p.localStorage.removeItem(t),ft.remove(t,e)}catch(r){ne.error(r)}}}),$n={},Vm={is_supported:function(){return!0},error:function(t){b.error("memoryStorage error: "+t)},get:function(t){return $n[t]||null},parse:function(t){return $n[t]||null},set:function(t,e){$n[t]=e},remove:function(t){delete $n[t]}},Mt=null,pe={is_supported:function(){if(!Fe(Mt))return Mt;if(Mt=!0,L(p))Mt=!1;else try{var t="__support__";pe.set(t,"xyz"),pe.get(t)!=='"xyz"'&&(Mt=!1),pe.remove(t)}catch{Mt=!1}return Mt},error:function(t){b.error("sessionStorage error: ",t)},get:function(t){try{return p==null?void 0:p.sessionStorage.getItem(t)}catch(e){pe.error(e)}return null},parse:function(t){try{return JSON.parse(pe.get(t))||null}catch{}return null},set:function(t,e){try{p==null||p.sessionStorage.setItem(t,JSON.stringify(e))}catch(r){pe.error(r)}},remove:function(t){try{p==null||p.sessionStorage.removeItem(t)}catch(e){pe.error(e)}}},Ym=["localhost","127.0.0.1"],Km=function(t,e){return!!function(r){try{new RegExp(r)}catch{return!1}return!0}(e)&&new RegExp(e).test(t)},jl=function(t,e){for(var r,n=((t.split("#")[0]||"").split("?")[1]||"").split("&"),s=0;s<n.length;s++){var o=n[s].split("=");if(o[0]===e){r=o;break}}if(!_e(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{b.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},Tn=function(t,e){var r=t.match(new RegExp(e+"=([^&]*)"));return r?r[1]:null},oe={campaignParams:function(t){var e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid"].concat(t||[]),r={};return G(e,function(n){var s=$?jl($.URL,n):"";s.length&&(r[n]=s)}),r},searchEngine:function(){var t=$==null?void 0:$.referrer;return t?t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var t=oe.searchEngine(),e=t!="yahoo"?"q":"p",r={};if(!Fe(t)){r.$search_engine=t;var n=$?jl($.referrer,e):"";n.length&&(r.ph_keyword=n)}return r},browser:function(t,e,r){return e=e||"",r||B(t," OPR/")?B(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":B(t,"IEMobile")||B(t,"WPDesktop")?"Internet Explorer Mobile":B(t,"SamsungBrowser/")?"Samsung Internet":B(t,"Edge")||B(t,"Edg/")?"Microsoft Edge":B(t,"FBIOS")?"Facebook Mobile":B(t,"Chrome")?"Chrome":B(t,"CriOS")?"Chrome iOS":B(t,"UCWEB")||B(t,"UCBrowser")?"UC Browser":B(t,"FxiOS")?"Firefox iOS":B(e,"Apple")||function(n){return B(n,"Safari")&&!B(n,"Chrome")&&!B(n,"Android")}(t)?B(t,"Mobile")?"Mobile Safari":"Safari":B(t,"Android")?"Android Mobile":B(t,"Konqueror")||B(t,"konqueror")?"Konqueror":B(t,"Firefox")?"Firefox":B(t,"MSIE")||B(t,"Trident/")?"Internet Explorer":B(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,r){var n={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[oe.browser(t,e,r)];if(L(n))return null;for(var s=0;s<n.length;s++){var o=n[s],i=t.match(o);if(i)return parseFloat(i[i.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(t){if(/Windows/i.test(t)){if(/Phone/.test(t)||/WPDesktop/.test(t))return{os_name:"Windows Phone",os_version:""};var e=/Windows NT ([0-9.]+)/i.exec(t);return e&&e[1]?{os_name:"Windows",os_version:e[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(t)){var r=/OS (\d+)_(\d+)_?(\d+)?/i.exec(t);return r&&r[1]?{os_name:"iOS",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(t)){var n=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(t);return n&&n[1]?{os_name:"Android",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(t))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(t)){var s=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(t);return s&&s[1]?{os_name:"Mac OS X",os_version:[s[1],s[2],s[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(t)?{os_name:"Linux",os_version:""}:/CrOS/.test(t)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)&&!/Mobile/.test(t)?"Android Tablet":/Android/.test(t)?"Android":""},deviceType:function(t){var e=this.device(t);return e==="iPad"||e==="Android Tablet"?"Tablet":e?"Mobile":"Desktop"},referrer:function(){return($==null?void 0:$.referrer)||"$direct"},referringDomain:function(){if($==null||!$.referrer)return"$direct";var t=$.createElement("a");return t.href=$.referrer,t.host},properties:function(){if(!se)return{};var t=oe.os(se),e=t.os_name,r=t.os_version;return de(Eo({$os:e,$os_version:r,$browser:oe.browser(se,navigator.vendor,ve.opera),$device:oe.device(se),$device_type:oe.deviceType(se)}),{$current_url:p==null?void 0:p.location.href,$host:p==null?void 0:p.location.host,$pathname:p==null?void 0:p.location.pathname,$raw_user_agent:se.length>1e3?se.substring(0,997)+"...":se,$browser_version:oe.browserVersion(se,navigator.vendor,ve.opera),$browser_language:oe.browserLanguage(),$screen_height:p==null?void 0:p.screen.height,$screen_width:p==null?void 0:p.screen.width,$viewport_height:p==null?void 0:p.innerHeight,$viewport_width:p==null?void 0:p.innerWidth,$lib:"web",$lib_version:Nt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:bl()/1e3})},people_properties:function(){if(!se)return{};var t=oe.os(se),e=t.os_name,r=t.os_version;return de(Eo({$os:e,$os_version:r,$browser:oe.browser(se,navigator.vendor,ve.opera)}),{$browser_version:oe.browserVersion(se,navigator.vendor,ve.opera)})}},Jm=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Bl=function(){function t(e){Z(this,t);var r="";e.token&&(r=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=e.custom_campaign_params||[],e.persistence_name?this.name="ph_"+e.persistence_name:this.name="ph_"+r+"_posthog",Jm.indexOf(e.persistence.toLowerCase())===-1&&(b.critical("Unknown persistence type "+e.persistence+"; falling back to cookie"),e.persistence="cookie");var n=e.persistence.toLowerCase();n==="localstorage"&&ne.is_supported()?this.storage=ne:n==="localstorage+cookie"&&Mo.is_supported()?this.storage=Mo:n==="sessionstorage"&&pe.is_supported()?this.storage=pe:this.storage=n==="memory"?Vm:ft,this.user_state="anonymous",this.load(),this.update_config(e),this.save()}return ee(t,[{key:"properties",value:function(){var e={};return G(this.props,function(r,n){if(n===er&&St(r))for(var s=Object.keys(r),o=0;o<s.length;o++)e["$feature/".concat(s[o])]=r[s[o]];else a=n,f=!1,(Fe(i=Fm)?f:ml&&i.indexOf===ml?i.indexOf(a)!=-1:(G(i,function(l){if(f||(f=l===a))return So}),f))||(e[n]=r);var i,a,f}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=de({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,r,n){var s=this;if(St(e)){L(r)&&(r="None"),this.expire_days=L(n)?this.default_expiry:n;var o=!1;if(G(e,function(i,a){s.props.hasOwnProperty(a)&&s.props[a]!==r||(s.props[a]=i,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(e,r){var n=this;if(St(e)){this.expire_days=L(r)?this.default_expiry:r;var s=!1;if(G(e,function(o,i){e.hasOwnProperty(i)&&n.props[i]!==o&&(n.props[i]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(oe.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(oe.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||oe.referrer(),$referring_domain:this.props.$referring_domain||oe.referringDomain()})}},{key:"get_referrer_info",value:function(){return Eo({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return G(this.props,function(r,n){n in e||(e[n]=r)}),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,r){var n=this.props[Tr]||{};n[e]=r,this.props[Tr]=n,this.save()}},{key:"remove_event_timer",value:function(e){var r=(this.props[Tr]||{})[e];return L(r)||(delete this.props[Tr][e],this.save()),r}},{key:"get_user_state",value:function(){return this.props[Ro]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[Ro]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[Co]||{}}},{key:"set_quota_limits",value:function(e){this.props[Co]=e,this.save()}}]),t}(),Hl=2,Xm=4,zl=3,Qm=6,Zm=0,ex="rrweb/console@1",Ke,tx=ee(function t(e){var r,n,s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z(this,t),S(this,"bucketSize",100),S(this,"refillRate",10),S(this,"mutationBuckets",{}),S(this,"loggedTracker",{}),S(this,"refillBuckets",function(){Object.keys(s.mutationBuckets).forEach(function(i){s.mutationBuckets[i]=s.mutationBuckets[i]+s.refillRate,s.mutationBuckets[i]>=s.bucketSize&&delete s.mutationBuckets[i]})}),S(this,"getNodeOrRelevantParent",function(i){var a=s.rrweb.mirror.getNode(i);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var f=a.closest("svg");if(f)return[s.rrweb.mirror.getId(f),f]}return[i,a]}),S(this,"numberOfChanges",function(i){var a,f,l,c,u,h,d,v;return((a=(f=i.removes)===null||f===void 0?void 0:f.length)!==null&&a!==void 0?a:0)+((l=(c=i.attributes)===null||c===void 0?void 0:c.length)!==null&&l!==void 0?l:0)+((u=(h=i.texts)===null||h===void 0?void 0:h.length)!==null&&u!==void 0?u:0)+((d=(v=i.adds)===null||v===void 0?void 0:v.length)!==null&&d!==void 0?d:0)}),S(this,"throttleMutations",function(i){if(i.type!==zl||i.data.source!==Zm)return i;var a=i.data,f=s.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(c){var u,h,d,v=Sr(s.getNodeOrRelevantParent(c.id),2),g=v[0],w=v[1];return s.mutationBuckets[g]===0?!1:(s.mutationBuckets[g]=(u=s.mutationBuckets[g])!==null&&u!==void 0?u:s.bucketSize,s.mutationBuckets[g]=Math.max(s.mutationBuckets[g]-1,0),s.mutationBuckets[g]===0&&(s.loggedTracker[g]||(s.loggedTracker[g]=!0,(h=(d=s.options).onBlockedNode)===null||h===void 0||h.call(d,g,w))),c)}));var l=s.numberOfChanges(a);return l!==0||f===l?i:void 0}),this.rrweb=e,this.options=o,this.refillRate=(r=this.options.refillRate)!==null&&r!==void 0?r:this.refillRate,this.bucketSize=(n=this.options.bucketSize)!==null&&n!==void 0?n:this.bucketSize,setInterval(function(){s.refillBuckets()},1e3)}),Wl=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(Wl||{}),rx={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(t){return t},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1},nx=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Gl=function(t){var e;return Object.keys((e=t.requestHeaders)!==null&&e!==void 0?e:{}).forEach(function(r){var n;nx.includes(r.toLowerCase())&&((n=t.requestHeaders)===null||n===void 0||delete n[r])}),t},sx="/s/";(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Ke||(Ke={}));var ox=[Ke.MouseMove,Ke.MouseInteraction,Ke.Scroll,Ke.ViewportResize,Ke.Input,Ke.TouchMove,Ke.MediaInteraction,Ke.Drag],ix=function(){function t(e){var r=this;if(Z(this,t),S(this,"isIdle",!1),S(this,"_linkedFlagSeen",!1),S(this,"_lastActivityTimestamp",Date.now()),S(this,"windowId",null),S(this,"sessionId",null),S(this,"_linkedFlag",null),S(this,"_sampleRate",null),S(this,"_minimumDuration",null),this.instance=e,this._captureStarted=!1,this._endpoint=sx,this.stopRrweb=void 0,this.receivedDecide=!1,p==null||p.addEventListener("beforeunload",function(){r._flushBuffer()}),!this.instance.sessionManager)throw b.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return ee(t,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw b.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return at(this._sampleRate)?this.instance.get_property(Sn):null}},{key:"sessionDuration",get:function(){var e,r,n=(e=this.buffer)===null||e===void 0?void 0:e.data[((r=this.buffer)===null||r===void 0?void 0:r.data.length)-1],s=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-s:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Oo),r=!this.instance.config.disable_session_recording;return p&&e&&r}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(Cl),r=this.instance.config.enable_recording_console_log;return r??e}},{key:"recordingVersion",get:function(){var e,r=this.instance.get_property(Al);return((e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recorderVersion)||r||"v1"}},{key:"networkPayloadCapture",get:function(){var e,r,n=this.instance.get_property(Nl),s={recordHeaders:(e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recordHeaders,recordBody:(r=this.instance.config.session_recording)===null||r===void 0?void 0:r.recordBody},o=(s==null?void 0:s.recordHeaders)||(n==null?void 0:n.recordHeaders),i=(s==null?void 0:s.recordBody)||(n==null?void 0:n.recordBody);return o||i?{recordHeaders:o,recordBody:i}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Ne(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":wo(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var r,n=this.sessionId!==e;if(at(this._sampleRate)){var s,o=this.isSampled;n||!wo(o)?s=Math.random()<this._sampleRate:s=o,s||b.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),(r=this.instance.persistence)===null||r===void 0||r.register(S({},Sn,s))}else{var i;(i=this.instance.persistence)===null||i===void 0||i.register(S({},Sn,null))}}},{key:"afterDecideResponse",value:function(e){var r,n,s,o,i,a,f,l,c=this;this.instance.persistence&&this.instance.persistence.register((S(l={},Oo,!!e.sessionRecording),S(l,Cl,(i=e.sessionRecording)===null||i===void 0?void 0:i.consoleLogRecordingEnabled),S(l,Al,(a=e.sessionRecording)===null||a===void 0?void 0:a.recorderVersion),S(l,Nl,(f=e.sessionRecording)===null||f===void 0?void 0:f.networkPayloadCapture),l));var u=(r=e.sessionRecording)===null||r===void 0?void 0:r.sampleRate;this._sampleRate=L(u)||Fe(u)?null:parseFloat(u);var h,d=(n=e.sessionRecording)===null||n===void 0?void 0:n.minimumDurationMilliseconds;if(this._minimumDuration=L(d)?null:d,this._linkedFlag=((s=e.sessionRecording)===null||s===void 0?void 0:s.linkedFlag)||null,(o=e.sessionRecording)!==null&&o!==void 0&&o.endpoint&&(this._endpoint=(h=e.sessionRecording)===null||h===void 0?void 0:h.endpoint),at(this._sampleRate)&&this.sessionManager.onSessionId(function(g){c.makeSamplingDecision(g)}),Ne(this._linkedFlag)){var v=this._linkedFlag;this.instance.onFeatureFlags(function(g){c._linkedFlagSeen=g.includes(v)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(r=this.instance.sessionRecording)===null||r===void 0||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:bl()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!L(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var r=this.recordingVersion==="v2"?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?$r(this.instance.config.api_host+"/static/".concat(r,"?v=").concat(Nt.LIB_VERSION),function(n){if(n)return b.error("Could not load ".concat(r),n);e._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var r;return e.type===zl&&ox.indexOf((r=e.data)===null||r===void 0?void 0:r.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(e){var r=this._isInteractiveEvent(e);if(r||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0),r&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryTakeFullSnapshot())),!this.isIdle){var n=this.sessionManager.checkAndGetSessionAndWindowId(!r,e.timestamp),s=n.windowId,o=n.sessionId,i=this.sessionId!==o,a=this.windowId!==s;[Hl,Xm].indexOf(e.type)===-1&&(a||i)&&this._tryTakeFullSnapshot(),this.windowId=s,this.sessionId=o}}},{key:"_tryTakeFullSnapshot",value:function(){if(!this._captureStarted)return!1;try{var e;return(e=this.rrwebRecord)===null||e===void 0||e.takeFullSnapshot(),!0}catch(r){return b.error("Error taking full snapshot.",r),!1}}},{key:"_onScriptLoaded",value:function(){var e,r=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=p.rrweb?p.rrweb.record:p.rrwebRecord;for(var s=this.instance.config.session_recording,o=0,i=Object.entries(s||{});o<i.length;o++){var a=Sr(i[o],2),f=a[0],l=a[1];f in n&&(n[f]=l)}if(this.rrwebRecord){this.mutationRateLimiter=(e=this.mutationRateLimiter)!==null&&e!==void 0?e:new tx(this.rrwebRecord,{onBlockedNode:function(w,y){var k="Too many mutations on node '".concat(w,"'. Rate limiting. This could be due to SVG animations or something similar");b.info(k,{node:y}),r.log("[PostHog Recorder] "+k,"warn")}});var c,u,h,d,v,g=[];ve.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&g.push(ve.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&it(ve.getRecordNetworkPlugin)&&g.push(ve.getRecordNetworkPlugin((c=this.instance.config,u=this.networkPayloadCapture,h=c.session_recording,d=h.recordHeaders!==!1&&u.recordHeaders,v=h.recordBody!==!1&&u.recordBody,h.maskRequestFn=it(c.session_recording.maskNetworkRequestFn)?function(w){var y,k,U,P=Gl(w);return(y=(k=(U=c.session_recording).maskNetworkRequestFn)===null||k===void 0?void 0:k.call(U,P))!==null&&y!==void 0?y:void 0}:void 0,h.maskRequestFn||(h.maskRequestFn=Gl),R(R(R({},rx),h),{},{recordHeaders:d,recordBody:v})))),this.stopRrweb=this.rrwebRecord(R({emit:function(w){r.onRRwebEmit(w)},plugins:g},n)),this.instance._addCaptureHook(function(w){try{if(w==="$pageview"){var y,k=p?r._maskUrl(p.location.href):"";if(!k)return;(y=r.rrwebRecord)===null||y===void 0||y.addCustomEvent("$pageview",{href:k})}}catch(U){b.error("Could not add $pageview to rrweb session",U)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1}else b.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"onRRwebEmit",value:function(e){if(e&&St(e)){if(e.type===Wl.Meta){var r=this._maskUrl(e.data.href);if(!r)return;e.data.href=r}var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var s=function(a){var f=a;if(f&&St(f)&&f.type===Qm&&St(f.data)&&f.data.plugin===ex){f.data.payload.payload.length>10&&(f.data.payload.payload=f.data.payload.payload.slice(0,10),f.data.payload.payload.push("...[truncated]"));for(var l=[],c=0;c<f.data.payload.payload.length;c++)f.data.payload.payload[c]&&f.data.payload.payload[c].length>2e3?l.push(f.data.payload.payload[c].slice(0,2e3)+"...[truncated]"):l.push(f.data.payload.payload[c]);return f.data.payload.payload=l,a}return a}(n),o=JSON.stringify(s).length;if(this._updateWindowAndSessionIds(s),!this.isIdle){var i={$snapshot_bytes:o,$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(i):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var r=this.instance.config.session_recording;if(r.maskNetworkRequestFn){var n,s={url:e};return(n=s=r.maskNetworkRequestFn(s))===null||n===void 0?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var r=this._minimumDuration,n=this.sessionDuration,s=at(n)&&n>=0,o=at(r)&&s&&n<r;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var r,n=this,s=2+(((r=this.buffer)===null||r===void 0?void 0:r.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+s>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),Fe(this.buffer.sessionId)&&!Fe(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){n._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:e.$snapshot_data.type===Hl}})}}]),t}(),Je={entryType:0,timeOrigin:1,name:2,startTime:3,redirectStart:4,redirectEnd:5,workerStart:6,fetchStart:7,domainLookupStart:8,domainLookupEnd:9,connectStart:10,secureConnectionStart:11,connectEnd:12,requestStart:13,responseStart:14,responseEnd:15,decodedBodySize:16,encodedBodySize:17,initiatorType:18,nextHopProtocol:19,renderBlockingStatus:20,responseStatus:21,transferSize:22,element:23,renderTime:24,loadTime:25,size:26,id:27,url:28,domComplete:29,domContentLoadedEvent:30,domInteractive:31,loadEventEnd:32,loadEventStart:33,redirectCount:34,navigationType:35,unloadEventEnd:36,unloadEventStart:37,duration:39,timestamp:40},ax=["first-input","navigation","paint","resource"],fx=["/s/","/e/"],lx=function(){function t(e){Z(this,t),S(this,"_forceAllowLocalhost",!1),this.instance=e}return ee(t,[{key:"startObservingIfEnabled",value:function(){this.isEnabled()?this.startObserving():this.stopObserving()}},{key:"startObserving",value:function(){var e,r=this;if(!this.observer)if(L(p==null||(e=p.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes))b.info("[PerformanceObserver] not started because PerformanceObserver is not supported by this browser.");else if(!Ym.includes(location.hostname)||this._forceAllowLocalhost)try{this.observer=new PerformanceObserver(function(s){s.getEntries().forEach(function(o){r._capturePerformanceEvent(o)})});var n=PerformanceObserver.supportedEntryTypes.filter(function(s){return ax.includes(s)});n.forEach(function(s){var o;(o=r.observer)===null||o===void 0||o.observe({type:s,buffered:!0})})}catch(s){b.error("PostHog failed to start performance observer",s),this.stopObserving()}else b.info("[PerformanceObserver] not started because we are on localhost.")}},{key:"stopObserving",value:function(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"isObserving",value:function(){return!!this.observer}},{key:"isEnabled",value:function(){var e,r;return(e=(r=this.instance.config.capture_performance)!==null&&r!==void 0?r:this.remoteEnabled)!==null&&e!==void 0&&e}},{key:"afterDecideResponse",value:function(e){this.remoteEnabled=e.capturePerformance||!1,this.isEnabled()&&this.startObserving()}},{key:"_capturePerformanceEvent",value:function(e){if(e.name.indexOf(this.instance.config.api_host)===0){var r=e.name.replace(this.instance.config.api_host,"");if(fx.find(function(d){return r.indexOf(d)===0}))return}var n={url:e.name},s=this.instance.config.session_recording;if(s.maskNetworkRequestFn&&(n=s.maskNetworkRequestFn(n)),n){var o=e.toJSON();o.name=n.url;var i={},a=Math.floor(Date.now()-performance.now());for(var f in i[Je.timeOrigin]=a,i[Je.timestamp]=Math.floor(a+e.startTime),Je)L(o[f])||(i[Je[f]]=o[f]);if(this.capturePerformanceEvent(i),ux(e)){var l,c=At(e.serverTiming||[]);try{for(c.s();!(l=c.n()).done;){var u,h=l.value;this.capturePerformanceEvent((S(u={},Je.timeOrigin,a),S(u,Je.timestamp,Math.floor(a+e.startTime)),S(u,Je.name,h.name),S(u,Je.duration,h.duration),S(u,Je.entryType,"serverTiming"),u))}}catch(d){c.e(d)}finally{c.f()}}}}},{key:"capturePerformanceEvent",value:function(e){var r,n=e[Je.timestamp];(r=this.instance.sessionRecording)===null||r===void 0||r.onRRwebEmit({type:6,data:{plugin:"posthog/network@1",payload:e},timestamp:n})}}]),t}(),ux=function(t){return t.entryType==="navigation"||t.entryType==="resource"},cx=function(){function t(e){Z(this,t),this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return ee(t,[{key:"call",value:function(){var e=this,r=$o(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(tr),group_properties:this.instance.get_property(kt),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:r,verbose:!0},{method:"POST"},function(n){return e.parseDecideResponse(n)})}},{key:"parseDecideResponse",value:function(e){var r,n,s=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),(e==null?void 0:e.status)!==0){if(!$||!$.body)return b.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){s.parseDecideResponse(e)},500);this.instance.toolbar.afterDecideResponse(e),(r=this.instance.sessionRecording)===null||r===void 0||r.afterDecideResponse(e),Et.afterDecideResponse(e,this.instance),(n=this.instance.webPerformance)===null||n===void 0||n.afterDecideResponse(e),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.featureFlags.receivedFeatureFlags(e);var o=p==null?void 0:p.extendPostHogWithSurveys;e.surveys&&!o&&$r(this.instance.config.api_host+"/static/surveys.js",function(u){if(u)return b.error("Could not load surveys script",u);p.extendPostHogWithSurveys(s.instance)});var i=p==null?void 0:p.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&L(i)&&$r(this.instance.config.api_host+"/static/exception-autocapture.js",function(u){if(u)return b.error("Could not load exception autocapture script",u);p.extendPostHogWithExceptionAutocapture(s.instance,e)}),e.siteApps)if(this.instance.config.opt_in_site_apps){var a,f=this.instance.config.api_host,l=At(e.siteApps);try{var c=function(){var u=a.value,h=u.id,d=u.url,v=[f,f[f.length-1]==="/"&&d[0]==="/"?d.substring(1):d].join("");ve["__$$ph_site_app_".concat(h)]=s.instance,$r(v,function(g){g&&b.error("Error while initializing PostHog app with config id ".concat(h),g)})};for(l.s();!(a=l.n()).done;)c()}catch(u){l.e(u)}finally{l.f()}}else e.siteApps.length>0&&b.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else b.error("Failed to fetch feature flags from PostHog.")}}]),t}(),_x=["https://app.posthog.com","https://eu.posthog.com"],dx=["source"],px=p!=null&&p.location?Tn(p.location.hash,"__posthog")||Tn(location.hash,"state"):null,hx=function(){function t(e){Z(this,t),this.instance=e}return ee(t,[{key:"afterDecideResponse",value:function(e){var r=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&r.toolbarVersion&&r.toolbarVersion.indexOf("toolbar")===0&&this.loadToolbar(R({},r))}},{key:"maybeLoadToolbar",value:function(){var e,r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!p||!$)return!1;n=(e=n)!==null&&e!==void 0?e:p.location,o=(r=o)!==null&&r!==void 0?r:p.history;try{if(!s){try{p.localStorage.setItem("test","test"),p.localStorage.removeItem("test")}catch{return!1}s=p==null?void 0:p.localStorage}var i,a=px||Tn(n.hash,"__posthog")||Tn(n.hash,"state"),f=a?wl(function(){return JSON.parse(atob(decodeURIComponent(a)))})||wl(function(){return JSON.parse(decodeURIComponent(a))}):null;return f&&f.action==="ph_authorize"?((i=f).source="url",i&&Object.keys(i).length>0&&(f.desiredHash?n.hash=f.desiredHash:o?o.replaceState("",$.title,n.pathname+n.search):n.hash="")):((i=JSON.parse(s.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}},{key:"loadToolbar",value:function(e){var r=this;if(!p||ve._postHogToolbarLoaded)return!1;ve._postHogToolbarLoaded=!0;var n=this.instance.config.api_host,s=3e5,o=Math.floor(Date.now()/s)*s,i="".concat(n).concat(n.endsWith("/")?"":"/","static/toolbar.js?t=").concat(o),a=!_x.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,f=R(R({token:this.instance.config.token},e),{},{apiURL:n},a?{instrument:!1}:{});f.source;var l=$m(f,dx);return p.localStorage.setItem("_postHogToolbarParams",JSON.stringify(l)),$r(i,function(c){c?b.error("Failed to load toolbar",c):(ve.ph_load_toolbar||ve.ph_load_editor)(f,r.instance)}),Er(p,"turbolinks:load",function(){ve._postHogToolbarLoaded=!1,r.loadToolbar(f)}),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(e,r,n)}}]),t}(),gx="__ph_opt_in_out_";function vx(t,e){Yl(!0,t,e)}function mx(t,e){Yl(!1,t,e)}function xx(t,e){return Vl(t,e)==="1"}function ql(t,e){return!!function(r){if(r&&r.respectDnt){var n=r&&r.window||p,s=n==null?void 0:n.navigator,o=!1;return G([s==null?void 0:s.doNotTrack,s.msDoNotTrack,n.doNotTrack],function(i){B([!0,1,"1","yes"],i)&&(o=!0)}),o}return!1}(e)||Vl(t,e)==="0"}function yx(t,e){Lo(e=e||{}).remove(Uo(t,e),!!e.crossSubdomainCookie)}function Lo(t){return(t=t||{}).persistenceType==="localStorage"?ne:t.persistenceType==="localStorage+cookie"?Mo:ft}function Uo(t,e){return((e=e||{}).persistencePrefix||gx)+t}function Vl(t,e){return Lo(e).get(Uo(t,e))}function Yl(t,e,r){Ne(e)&&e.length?(Lo(r=r||{}).set(Uo(e,r),t?1:0,at(r.cookieExpiration)?r.cookieExpiration:null,r.crossSubdomainCookie,r.secureCookie),r.capture&&t&&r.capture(r.captureEventName||"$opt_in",r.captureProperties||{},{send_instantly:!0})):b.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}var Kl=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3;Z(this,t),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=e}return ee(t,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),t}(),bx=function(t){cl(r,Kl);var e=_l(r);function r(n){var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e3;return Z(this,r),(s=e.call(this,o)).handlePollRequest=n,s}return ee(r,[{key:"enqueue",value:function(n,s,o){this._event_queue.push({url:n,data:s,options:o}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var n=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(n._event_queue.length>0){var s=n.formatQueue(),o=function(a){var f=s[a],l=f.url,c=f.data,u=f.options;G(c,function(h,d){c[d].offset=Math.abs(c[d].timestamp-n.getTime()),delete c[d].timestamp}),n.handlePollRequest(l,c,u)};for(var i in s)o(i);n._event_queue.length=0,n._empty_queue_count=0}else n._empty_queue_count++;n._empty_queue_count>4&&(n.isPolling=!1,n._empty_queue_count=0),n.isPolling&&n.poll()},this._pollInterval)}},{key:"unload",value:function(){var n=this;clearTimeout(this._poller);var s=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var o=Object.values(s);[].concat(xo(o.filter(function(i){return i.url.indexOf("/e")===0})),xo(o.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){var a=i.url,f=i.data,l=i.options;n.handlePollRequest(a,f,R(R({},l),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var n={};return G(this._event_queue,function(s){var o=s.url,i=s.data,a=s.options,f=(a?a._batchKey:null)||o;L(n[f])&&(n[f]={data:[],url:o,options:a}),a&&n[f].options&&n[f].options._metrics&&!n[f].options._metrics.rrweb_full_snapshot&&(n[f].options._metrics.rrweb_full_snapshot=a._metrics.rrweb_full_snapshot),n[f].data.push(i)}),n}}]),r}(),De=Uint8Array,we=Uint16Array,rr=Uint32Array,jo=new De([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bo=new De([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jl=new De([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xl=function(t,e){for(var r=new we(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var s=new rr(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)s[o]=o-r[n]<<5|n;return[r,s]},Ql=Xl(jo,2),wx=Ql[0],Ho=Ql[1];wx[28]=258,Ho[258]=28;for(var Zl=Xl(Bo,0)[1],zo=new we(32768),Y=0;Y<32768;++Y){var Lt=(43690&Y)>>>1|(21845&Y)<<1;Lt=(61680&(Lt=(52428&Lt)>>>2|(13107&Lt)<<2))>>>4|(3855&Lt)<<4,zo[Y]=((65280&Lt)>>>8|(255&Lt)<<8)>>>1}var Or=function(t,e,r){for(var n=t.length,s=0,o=new we(e);s<n;++s)++o[t[s]-1];var i,a=new we(e);for(s=0;s<e;++s)a[s]=a[s-1]+o[s-1]<<1;if(r){i=new we(1<<e);var f=15-e;for(s=0;s<n;++s)if(t[s])for(var l=s<<4|t[s],c=e-t[s],u=a[t[s]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)i[zo[u]>>>f]=l}else for(i=new we(n),s=0;s<n;++s)i[s]=zo[a[t[s]-1]++]>>>15-t[s];return i},Ut=new De(288);for(Y=0;Y<144;++Y)Ut[Y]=8;for(Y=144;Y<256;++Y)Ut[Y]=9;for(Y=256;Y<280;++Y)Ut[Y]=7;for(Y=280;Y<288;++Y)Ut[Y]=8;var On=new De(32);for(Y=0;Y<32;++Y)On[Y]=5;var jt,Sx=Or(Ut,9,0),kx=Or(On,5,0),eu=function(t){return(t/8>>0)+(7&t&&1)},tu=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof we?we:t instanceof rr?rr:De)(r-e);return n.set(t.subarray(e,r)),n},lt=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8},Pr=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},Wo=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,o=r.slice();if(!s)return[new De(0),0];if(s==1){var i=new De(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(C,F){return C.f-F.f}),r.push({s:-1,f:25001});var a=r[0],f=r[1],l=0,c=1,u=2;for(r[0]={s:-1,f:a.f+f.f,l:a,r:f};c!=s-1;)a=r[r[l].f<r[u].f?l++:u++],f=r[l!=c&&r[l].f<r[u].f?l++:u++],r[c++]={s:-1,f:a.f+f.f,l:a,r:f};var h=o[0].s;for(n=1;n<s;++n)o[n].s>h&&(h=o[n].s);var d=new we(h+1),v=Ex(r[c-1],d,0);if(v>e){n=0;var g=0,w=v-e,y=1<<w;for(o.sort(function(C,F){return d[F.s]-d[C.s]||C.f-F.f});n<s;++n){var k=o[n].s;if(!(d[k]>e))break;g+=y-(1<<v-d[k]),d[k]=e}for(g>>>=w;g>0;){var U=o[n].s;d[U]<e?g-=1<<e-d[U]++-1:++n}for(;n>=0&&g;--n){var P=o[n].s;d[P]==e&&(--d[P],++g)}v=e}return[new De(d),v]},Ex=function t(e,r,n){return e.s==-1?Math.max(t(e.l,r,n+1),t(e.r,r,n+1)):r[e.s]=n},ru=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new we(++e),n=0,s=t[0],o=1,i=function(f){r[n++]=f},a=1;a<=e;++a)if(t[a]==s&&a!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(s),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(s);o=1,s=t[a]}return[r.subarray(0,n),e]},Ir=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Pn=function(t,e,r){var n=r.length,s=eu(e+2);t[s]=255&n,t[s+1]=n>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var o=0;o<n;++o)t[s+o+4]=r[o];return 8*(s+4+n)},nu=function(t,e,r,n,s,o,i,a,f,l,c){lt(e,c++,r),++s[256];for(var u=Wo(s,15),h=u[0],d=u[1],v=Wo(o,15),g=v[0],w=v[1],y=ru(h),k=y[0],U=y[1],P=ru(g),C=P[0],F=P[1],j=new we(19),O=0;O<k.length;++O)j[31&k[O]]++;for(O=0;O<C.length;++O)j[31&C[O]]++;for(var te=Wo(j,7),M=te[0],H=te[1],ie=19;ie>4&&!M[Jl[ie-1]];--ie);var me,Q,Le,Ot,Qe=l+5<<3,Ze=Ir(s,Ut)+Ir(o,On)+i,Ue=Ir(s,h)+Ir(o,g)+i+14+3*ie+Ir(j,M)+(2*j[16]+3*j[17]+7*j[18]);if(Qe<=Ze&&Qe<=Ue)return Pn(e,c,t.subarray(f,f+l));if(lt(e,c,1+(Ue<Ze)),c+=2,Ue<Ze){me=Or(h,d,0),Q=h,Le=Or(g,w,0),Ot=g;var ze=Or(M,H,0);for(lt(e,c,U-257),lt(e,c+5,F-1),lt(e,c+10,ie-4),c+=14,O=0;O<ie;++O)lt(e,c+3*O,M[Jl[O]]);c+=3*ie;for(var K=[k,C],le=0;le<2;++le){var z=K[le];for(O=0;O<z.length;++O){var xe=31&z[O];lt(e,c,ze[xe]),c+=M[xe],xe>15&&(lt(e,c,z[O]>>>5&127),c+=z[O]>>>12)}}}else me=Sx,Q=Ut,Le=kx,Ot=On;for(O=0;O<a;++O)if(n[O]>255){xe=n[O]>>>18&31,Pr(e,c,me[xe+257]),c+=Q[xe+257],xe>7&&(lt(e,c,n[O]>>>23&31),c+=jo[xe]);var W=31&n[O];Pr(e,c,Le[W]),c+=Ot[W],W>3&&(Pr(e,c,n[O]>>>5&8191),c+=Bo[W])}else Pr(e,c,me[n[O]]),c+=Q[n[O]];return Pr(e,c,me[256]),c+Q[256]},$x=new rr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Tx=new De(0),Ox=function(){for(var t=new rr(256),e=0;e<256;++e){for(var r=e,n=9;--n;)r=(1&r&&3988292384)^r>>>1;t[e]=r}return t}(),Px=function(){var t=4294967295;return{p:function(e){for(var r=t,n=0;n<e.length;++n)r=Ox[255&r^e[n]]^r>>>8;t=r},d:function(){return 4294967295^t}}},Ix=function(t,e,r,n,s){return function(o,i,a,f,l,c){var u=o.length,h=new De(f+u+5*(1+Math.floor(u/7e3))+l),d=h.subarray(f,h.length-l),v=0;if(!i||u<8)for(var g=0;g<=u;g+=65535){var w=g+65535;w<u?v=Pn(d,v,o.subarray(g,w)):(d[g]=c,v=Pn(d,v,o.subarray(g,u)))}else{for(var y=$x[i-1],k=y>>>13,U=8191&y,P=(1<<a)-1,C=new we(32768),F=new we(P+1),j=Math.ceil(a/3),O=2*j,te=function(tt){return(o[tt]^o[tt+1]<<j^o[tt+2]<<O)&P},M=new rr(25e3),H=new we(288),ie=new we(32),me=0,Q=0,Le=(g=0,0),Ot=0,Qe=0;g<u;++g){var Ze=te(g),Ue=32767&g,ze=F[Ze];if(C[Ue]=ze,F[Ze]=Ue,Ot<=g){var K=u-g;if((me>7e3||Le>24576)&&K>423){v=nu(o,d,0,M,H,ie,Q,Le,Qe,g-Qe,v),Le=me=Q=0,Qe=g;for(var le=0;le<286;++le)H[le]=0;for(le=0;le<30;++le)ie[le]=0}var z=2,xe=0,W=U,Ie=Ue-ze&32767;if(K>2&&Ze==te(g-Ie))for(var Ur=Math.min(k,K)-1,Ln=Math.min(32767,g),jr=Math.min(258,K);Ie<=Ln&&--W&&Ue!=ze;){if(o[g+z]==o[g+z-Ie]){for(var We=0;We<jr&&o[g+We]==o[g+We-Ie];++We);if(We>z){if(z=We,xe=Ie,We>Ur)break;var Un=Math.min(Ie,We-2),ct=0;for(le=0;le<Un;++le){var Pt=g-Ie+le+32768&32767,et=Pt-C[Pt]+32768&32767;et>ct&&(ct=et,ze=Pt)}}}Ie+=(Ue=ze)-(ze=C[Ue])+32768&32767}if(xe){M[Le++]=268435456|Ho[z]<<18|Zl[xe];var sr=31&Ho[z],or=31&Zl[xe];Q+=jo[sr]+Bo[or],++H[257+sr],++ie[or],Ot=g+z,++me}else M[Le++]=o[g],++H[o[g]]}}v=nu(o,d,c,M,H,ie,Q,Le,Qe,g-Qe,v),c||(v=Pn(d,v,Tx))}return tu(h,0,f+eu(v)+l)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,r,n,!s)},Go=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Rx=function(t,e){var r=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&Go(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),r){t[3]=8;for(var n=0;n<=r.length;++n)t[n+10]=r.charCodeAt(n)}},Cx=function(t){return 10+(t.filename&&t.filename.length+1||0)};function Ax(t,e){e===void 0&&(e={});var r=Px(),n=t.length;r.p(t);var s=Ix(t,e,Cx(e),8),o=s.length;return Rx(s,e),Go(s,o-8,r.d()),Go(s,o-4,n),s}function Nx(t,e){var r=t.length;if(!e&&typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var n=new De(t.length+(t.length>>>1)),s=0,o=function(l){n[s++]=l},i=0;i<r;++i){if(s+5>n.length){var a=new De(s+8+(r-i<<1));a.set(n),n=a}var f=t.charCodeAt(i);f<128||e?o(f):f<2048?(o(192|f>>>6),o(128|63&f)):f>55295&&f<57344?(o(240|(f=65536+(1047552&f)|1023&t.charCodeAt(++i))>>>18),o(128|f>>>12&63),o(128|f>>>6&63),o(128|63&f)):(o(224|f>>>12),o(128|f>>>6&63),o(128|63&f))}return tu(n,0,s)}(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(jt||(jt={}));var su=function(t,e,r){var n=e||{};n.ip=r.ip?1:0,n._=new Date().getTime().toString(),n.ver=Nt.LIB_VERSION;var s=t.split("?");if(s.length>1){var o,i=At(s[1].split("&"));try{for(i.s();!(o=i.n()).done;){var a=o.value.split("=")[0];L(n[a])||delete n[a]}}catch(l){i.e(l)}finally{i.f()}}var f=t.indexOf("?")>-1?"&":"?";return t+f+function(l){var c,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",d=[];return G(l,function(v,g){L(v)||L(g)||g==="undefined"||(c=encodeURIComponent(v.toString()),u=encodeURIComponent(g),d[d.length]=u+"="+c)}),d.join(h)}(n)},qo=function t(e,r){if(r.blob&&e.buffer)return new Blob([hl(e)?e:e.buffer],{type:"text/plain"});if(r.sendBeacon||r.blob){var n=t(e,{method:"POST"});return new Blob([n],{type:"application/x-www-form-urlencoded"})}return r.method!=="POST"?null:(s=_e(e)||hl(e)?"data="+encodeURIComponent(e):"data="+encodeURIComponent(e.data),"compression"in e&&e.compression&&(s+="&compression="+e.compression),s);var s},ou=function(t){var e=t.url,r=t.data,n=t.headers,s=t.options,o=t.callback,i=t.retriesPerformedSoFar,a=t.retryQueue,f=t.onXHRError,l=t.timeout,c=l===void 0?6e4:l,u=t.onResponse;at(i)&&i>0&&(e=su(e,{retry_count:i},{}));var h=new XMLHttpRequest;h.open(s.method||"GET",e,!0);var d=qo(r,s);G(n,function(v,g){h.setRequestHeader(g,v)}),s.method!=="POST"||s.blob||h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.timeout=c,h.withCredentials=!0,h.onreadystatechange=function(){if(h.readyState===4)if(u==null||u(h),h.status===200){if(o){var v;try{v=JSON.parse(h.responseText)}catch(g){return void b.error(g)}o(v)}}else it(f)&&f(h),(h.status<400||h.status>500)&&a.enqueue({url:e,data:r,options:s,headers:n,retriesPerformedSoFar:(i||0)+1,callback:o}),o==null||o({status:0})},h.send(d)},Dx=18e5,Fx=function(t){cl(r,Kl);var e=_l(r);function r(n,s){var o;return Z(this,r),(o=e.call(this)).isPolling=!1,o.queue=[],o.areWeOnline=!0,o.onXHRError=n,o.rateLimiter=s,!L(p)&&"onLine"in p.navigator&&(o.areWeOnline=p.navigator.onLine,p.addEventListener("online",function(){o._handleWeAreNowOnline()}),p.addEventListener("offline",function(){o.areWeOnline=!1})),o}return ee(r,[{key:"enqueue",value:function(n){var s=n.retriesPerformedSoFar||0;if(!(s>=10)){var o=function(f){var l=3e3*Math.pow(2,f),c=l/2,u=Math.min(Dx,l),h=(Math.random()-.5)*(u-c);return Math.ceil(u+h)}(s),i=new Date(Date.now()+o);this.queue.push({retryAt:i,requestData:n});var a="Enqueued failed request for retry in ".concat(o);navigator.onLine||(a+=" (Browser is offline)"),b.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var n=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){n.areWeOnline&&n.queue.length>0&&n.flush(),n.poll()},this._pollInterval)}},{key:"flush",value:function(){var n=new Date(Date.now()),s=this.queue.filter(function(f){return f.retryAt<n});if(s.length>0){this.queue=this.queue.filter(function(f){return f.retryAt>=n});var o,i=At(s);try{for(i.s();!(o=i.n()).done;){var a=o.value.requestData;this._executeXhrRequest(a)}}catch(f){i.e(f)}finally{i.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var n,s=At(this.queue);try{for(s.s();!(n=s.n()).done;){var o=n.value.requestData,i=o.url,a=o.data,f=o.options;if(this.rateLimiter.isRateLimited(f._batchKey))b.warn("[RetryQueue] is quota limited. Dropping request.");else try{p==null||p.navigator.sendBeacon(i,qo(a,R(R({},f),{},{sendBeacon:!0})))}catch(l){b.error(l)}}}catch(l){s.e(l)}finally{s.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(n){var s=n.url,o=n.data,i=n.options,a=n.headers,f=n.callback,l=n.retriesPerformedSoFar;this.rateLimiter.isRateLimited(i._batchKey)||ou({url:s,data:o||{},options:i||{},headers:a||{},retriesPerformedSoFar:l||0,callback:f,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),r}(),In=1800,iu=60,Mx=864e5,Lx=function(){function t(e,r,n,s){Z(this,t),S(this,"_sessionIdChangedHandlers",[]),this.config=e,this.persistence=r,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||Ft,this._windowIdGenerator=s||Ft;var o=e.persistence_name||e.token,i=e.session_idle_timeout_seconds||In;if(at(i)?i>In?b.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):i<iu&&b.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(b.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),i=In),this._sessionTimeoutMs=1e3*Math.min(Math.max(i,iu),In),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=pe.parse(this._window_id_storage_key),f=pe.parse(this._primary_window_exists_storage_key);a&&!f?this._windowId=a:pe.remove(this._window_id_storage_key),pe.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return ee(t,[{key:"onSessionId",value:function(e){var r=this;return L(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){r._sessionIdChangedHandlers=r._sessionIdChangedHandlers.filter(function(n){return n!==e})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&pe.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&pe.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?pe.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,r,n){e===this._sessionId&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this._sessionId=e,this.persistence.register(S({},wn,[r,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[wn];return _e(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;p==null||p.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&pe.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),n=Sr(this._getSessionId(),3),s=n[0],o=n[1],i=n[2],a=this._getWindowId(),f=i&&i>0&&Math.abs(r-i)>Mx,l=!1,c=!o,u=!e&&Math.abs(r-s)>this._sessionTimeoutMs;c||u||f?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),i=r,l=!0):a||(a=this._windowIdGenerator(),l=!0);var h=s===0||!e||f?r:s,d=i===0?new Date().getTime():i;return this._setWindowId(a),this._setSessionId(o,h,d),l&&this._sessionIdChangedHandlers.forEach(function(v){return v(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:d}}}]),t}(),Ux=ee(function t(e,r,n,s){Z(this,t),this.name="posthog-js",this.setupOnce=function(o){o(function(i){var a,f,l,c,u;if(i.level!=="error"||!e.__loaded)return i;i.tags||(i.tags={});var h=e.config.ui_host||e.config.api_host;i.tags["PostHog Person URL"]=h+"/person/"+e.get_distinct_id(),e.sessionRecordingStarted()&&(i.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var d=((a=i.exception)===null||a===void 0?void 0:a.values)||[],v={$exception_message:(f=d[0])===null||f===void 0?void 0:f.value,$exception_type:(l=d[0])===null||l===void 0?void 0:l.type,$exception_personURL:h+"/person/"+e.get_distinct_id(),$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(c=d[0])===null||c===void 0?void 0:c.value,$sentry_exception_type:(u=d[0])===null||u===void 0?void 0:u.type,$sentry_tags:i.tags};return r&&n&&(v.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+i.event_id),e.capture("$exception",v),i})}}),jx=function(t){Promise&&Promise.resolve||b.warn("This browser does not have Promise support, and can not use the segment integration");var e=function(r,n){r.event.userId||r.event.anonymousId===t.get_distinct_id()||t.reset(),r.event.userId&&r.event.userId!==t.get_distinct_id()&&(t.register({distinct_id:r.event.userId}),t.reloadFeatureFlags());var s=t._calculate_event_properties(n,r.event.properties);return r.event.properties=Object.assign({},s,r.event.properties),r};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(r){return e(r,r.event.event)},page:function(r){return e(r,"$pageview")},identify:function(r){return e(r,"$identify")},screen:function(r){return e(r,"$screen")}}},Bx=function(){function t(){var e=this;Z(this,t),S(this,"_hasSeenPageView",!1),S(this,"_updateScrollData",function(){var r,n,s,o;e._pageViewData||(e._pageViewData=e._createPageViewData());var i=e._pageViewData,a=e._scrollY(),f=e._scrollHeight(),l=e._contentY(),c=e._contentHeight();i.lastScrollY=a,i.maxScrollY=Math.max(a,(r=i.maxScrollY)!==null&&r!==void 0?r:0),i.maxScrollHeight=Math.max(f,(n=i.maxScrollHeight)!==null&&n!==void 0?n:0),i.lastContentY=l,i.maxContentY=Math.max(l,(s=i.maxContentY)!==null&&s!==void 0?s:0),i.maxContentHeight=Math.max(c,(o=i.maxContentHeight)!==null&&o!==void 0?o:0)})}return ee(t,[{key:"_createPageViewData",value:function(){var e;return{pathname:(e=p==null?void 0:p.location.pathname)!==null&&e!==void 0?e:""}}},{key:"doPageView",value:function(){var e,r;return this._hasSeenPageView?(r=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,r=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),R({$prev_pageview_pathname:(e=r)===null||e===void 0?void 0:e.pathname},this._calculatePrevPageScrollProperties(r))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return R({$prev_pageview_pathname:e==null?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||e.maxScrollHeight==null||e.lastScrollY==null||e.maxScrollY==null||e.maxContentHeight==null||e.lastContentY==null||e.maxContentY==null)return{};var r=e.maxScrollHeight,n=e.lastScrollY,s=e.maxScrollY,o=e.maxContentHeight,i=e.lastContentY,a=e.maxContentY;return r=Math.ceil(r),n=Math.ceil(n),s=Math.ceil(s),o=Math.ceil(o),i=Math.ceil(i),a=Math.ceil(a),{$prev_pageview_last_scroll:n,$prev_pageview_last_scroll_percentage:r<=1?1:Rn(n/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Rn(s/r,0,1),$prev_pageview_last_content:i,$prev_pageview_last_content_percentage:o<=1?1:Rn(i/o,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:o<=1?1:Rn(a/o,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){p==null||p.addEventListener("scroll",this._updateScrollData),p==null||p.addEventListener("scrollend",this._updateScrollData),p==null||p.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){p==null||p.removeEventListener("scroll",this._updateScrollData),p==null||p.removeEventListener("scrollend",this._updateScrollData),p==null||p.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return p?Math.max(0,p.document.documentElement.scrollHeight-p.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return p&&(p.scrollY||p.pageYOffset||p.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(p==null?void 0:p.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var e=(p==null?void 0:p.document.documentElement.clientHeight)||0;return this._scrollY()+e}}]),t}();function Rn(t,e,r){return Math.max(e,Math.min(t,r))}var Rr,Vo,he,Hx={icontains:function(t){return!!p&&p.location.href.toLowerCase().indexOf(t.toLowerCase())>-1},regex:function(t){return!!p&&Km(p.location.href,t)},exact:function(t){return(p==null?void 0:p.location.href)===t}},zx=function(){function t(e){Z(this,t),this.instance=e}return ee(t,[{key:"getSurveys",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(Io);if(s&&!n)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var i,a=o.surveys||[];return(i=r.instance.persistence)===null||i===void 0||i.register(S({},Io,a)),e(a)})}},{key:"getActiveMatchingSurveys",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(s){var o=s.filter(function(i){return!(!i.start_date||i.end_date)}).filter(function(i){var a,f,l,c;if(!i.conditions)return!0;var u=(a=i.conditions)===null||a===void 0||!a.url||Hx[(f=(l=i.conditions)===null||l===void 0?void 0:l.urlMatchType)!==null&&f!==void 0?f:"icontains"](i.conditions.url),h=(c=i.conditions)===null||c===void 0||!c.selector||($==null?void 0:$.querySelector(i.conditions.selector));return u&&h}).filter(function(i){if(!i.linked_flag_key&&!i.targeting_flag_key)return!0;var a=!i.linked_flag_key||r.instance.featureFlags.isFeatureEnabled(i.linked_flag_key),f=!i.targeting_flag_key||r.instance.featureFlags.isFeatureEnabled(i.targeting_flag_key);return a&&f});return e(o)},n)}}]),t}(),Wx=6e4,Gx=function(){function t(){var e=this;Z(this,t),S(this,"limits",{}),S(this,"checkForLimiting",function(r){try{var n=r.responseText;if(!n||!n.length)return;(JSON.parse(n).quota_limited||[]).forEach(function(s){b.info("[RateLimiter] ".concat(s||"events"," is quota limited.")),e.limits[s]=new Date().getTime()+Wx})}catch(s){return void b.error(s)}})}return ee(t,[{key:"isRateLimited",value:function(e){var r=this.limits[e||"events"]||!1;return r!==!1&&new Date().getTime()<r}}]),t}(),qx=function(){return R({initialPathName:(p==null?void 0:p.location.pathname)||"",referringDomain:oe.referringDomain()},oe.campaignParams())},Vx=function(){function t(e,r,n){var s=this;Z(this,t),S(this,"_onSessionIdCallback",function(o){var i=s._getStoredProps();if(!i||i.sessionId!==o){var a={sessionId:o,props:s._sessionSourceParamGenerator()};s._persistence.register(S({},Ao,a))}}),this._sessionIdManager=e,this._persistence=r,this._sessionSourceParamGenerator=n||qx,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return ee(t,[{key:"_getStoredProps",value:function(){return this._persistence.props[Ao]}},{key:"getSessionProps",value:function(){var e,r=(e=this._getStoredProps())===null||e===void 0?void 0:e.props;return r?{$client_session_initial_referring_host:r.referringDomain,$client_session_initial_pathname:r.initialPathName,$client_session_initial_utm_source:r.utm_source,$client_session_initial_utm_campaign:r.utm_campaign,$client_session_initial_utm_medium:r.utm_medium,$client_session_initial_utm_content:r.utm_content,$client_session_initial_utm_term:r.utm_term}:{}}}]),t}();(function(t){t[t.INIT_MODULE=0]="INIT_MODULE",t[t.INIT_SNIPPET=1]="INIT_SNIPPET"})(Rr||(Rr={}));var Yo=function(){},Cn={},Pe="posthog",An=(p==null?void 0:p.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,au=!An&&(se==null?void 0:se.indexOf("MSIE"))===-1&&(se==null?void 0:se.indexOf("Mozilla"))===-1,fu=function(){var t,e,r;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(e=$==null?void 0:$.location,r=e==null?void 0:e.hostname,!!Ne(r)&&r.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:Yo,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:(p==null||(t=p.location)===null||t===void 0?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(n){var s="Bad HTTP status: "+n.status+" "+n.statusText;b.error(s)},get_device_id:function(n){return n},_onCapture:Yo,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Ko=function(t,e,r,n){var s,o=r!==Pe&&he?r?he[r]:void 0:he,i={initComplete:!1,syncCode:!1},a=function(f){return function(l){i[f]||(i[f]=!0,i.initComplete&&i.syncCode&&(n==null||n(l)))}};if(o&&Vo===Rr.INIT_MODULE)s=o;else{if(o&&!_e(o))return void b.error("You have already initialized "+r);s=new Jo}return s._init(t,e,r,a("initComplete")),s.toolbar.maybeLoadToolbar(),s.sessionRecording=new ix(s),s.sessionRecording.startRecordingIfEnabled(),s.webPerformance=new lx(s),s.webPerformance.startObservingIfEnabled(),s.config.__preview_measure_pageview_stats&&s.pageViewManager.startMeasuringScrollPosition(),s.__autocapture=s.config.autocapture,Et._setIsAutocaptureEnabled(s),Et._isAutocaptureEnabled&&(s.__autocapture=s.config.autocapture,Et.enabledForProject(s.config.token,100,100)?Et.isBrowserSupported()?Et.init(s):(s.__autocapture=!1,b.info("Disabling Automatic Event Collection because this browser is not supported")):(s.__autocapture=!1,b.info("Not in active bucket: disabling Automatic Event Collection."))),Nt.DEBUG=Nt.DEBUG||s.config.debug,!L(o)&&_e(o)&&(s._execute_array.call(s.people,o.people),s._execute_array(o)),a("syncCode")(s),s},Jo=function(){function t(){var e=this;Z(this,t),this.config=fu(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=Ux,this.segmentIntegration=function(){return jx(e)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.featureFlags=new Mm(this),this.toolbar=new hx(this),this.pageViewManager=new Bx,this.surveys=new zx(this),this.rateLimiter=new Gx,this.people={set:function(r,n,s){var o=Ne(r)?S({},r,n):r;e.setPersonProperties(o),s==null||s({})},set_once:function(r,n,s){var o=Ne(r)?S({},r,n):r;e.setPersonProperties(void 0,o),s==null||s({})}}}return ee(t,[{key:"init",value:function(e,r,n){if(L(n))b.critical("You must name your new library: init(token, config, name)");else{if(n!==Pe){var s=Ko(e,r,n,function(o){he[n]=o,o._loaded()});return he[n]=s,s}b.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var r,n,s,o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var l,c={segmentRegister:!1,syncCode:!1},u=function(C){return function(){c[C]||(c[C]=!0,c.segmentRegister&&c.syncCode&&(f==null||f(o)))}};if(this.set_config(de({},fu(),i,{name:a,token:e,callback_fn:(a===Pe?a:Pe+"."+a)+"._jsc"})),this._jsc=function(){},(p!=null&&(r=p.rrweb)!==null&&r!==void 0&&r.record||p!=null&&p.rrwebRecord)&&(this.__loaded_recorder_version=p==null||(l=p.rrweb)===null||l===void 0?void 0:l.version),this.persistence=new Bl(this.config),this._requestQueue=new bx(this._handle_queued_event.bind(this)),this._retryQueue=new Fx(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new Lx(this.config,this.persistence),this.sessionPropsManager=new Vx(this.sessionManager,this.persistence),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Bl(R(R({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),i.segment?(this.config.get_device_id=function(){return i.segment.user().anonymousId()},i.segment.user().id()&&(this.register({distinct_id:i.segment.user().id()}),this.persistence.set_user_state("identified")),i.segment.register(this.segmentIntegration()).then(u("segmentRegister"))):u("segmentRegister")(),((n=i.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var h,d,v=this.config.get_device_id(Ft()),g=(h=i.bootstrap)!==null&&h!==void 0&&h.isIdentifiedID?v:i.bootstrap.distinctID;this.persistence.set_user_state((d=i.bootstrap)!==null&&d!==void 0&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:g})}if(this._hasBootstrappedFeatureFlags()){var w,y,k=Object.keys(((w=i.bootstrap)===null||w===void 0?void 0:w.featureFlags)||{}).filter(function(C){var F,j;return!((F=i.bootstrap)===null||F===void 0||(j=F.featureFlags)===null||j===void 0||!j[C])}).reduce(function(C,F){var j,O;return C[F]=((j=i.bootstrap)===null||j===void 0||(O=j.featureFlags)===null||O===void 0?void 0:O[F])||!1,C},{}),U=Object.keys(((y=i.bootstrap)===null||y===void 0?void 0:y.featureFlagPayloads)||{}).filter(function(C){return k[C]}).reduce(function(C,F){var j,O,te,M;return(j=i.bootstrap)!==null&&j!==void 0&&(O=j.featureFlagPayloads)!==null&&O!==void 0&&O[F]&&(C[F]=(te=i.bootstrap)===null||te===void 0||(M=te.featureFlagPayloads)===null||M===void 0?void 0:M[F]),C},{});this.featureFlags.receivedFeatureFlags({featureFlags:k,featureFlagPayloads:U})}if(!this.get_distinct_id()){var P=this.config.get_device_id(Ft());this.register_once({distinct_id:P,$device_id:P},""),this.persistence.set_user_state("anonymous")}p==null||(s=p.addEventListener)===null||s===void 0||s.call(p,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),u("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var r;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var n,s={},o=At(e.supportedCompression);try{for(o.s();!(n=o.n()).done;)s[n.value]=!0}catch(i){o.e(i)}finally{o.f()}this.compression=s}(r=e.analytics)!==null&&r!==void 0&&r.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){b.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&$&&this.capture("$pageview",{title:$.title},{send_instantly:!0}),e||(new cx(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this._requestQueue)===null||e===void 0||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||Qt(this.__request_queue,function(r){e._send_request.apply(e,xo(r))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,r){if(L(e))return null;if(An)return function(i){e(i,r)};var n=this._jsc,s=""+Math.floor(1e8*Math.random()),o=this.config.callback_fn+"["+s+"]";return n[s]=function(i){delete n[s],e(i,r)},o}},{key:"_handle_unload",value:function(){var e,r;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(e=this._requestQueue)===null||e===void 0||e.unload(),(r=this._retryQueue)===null||r===void 0||r.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,r,n){var s=JSON.stringify(r);this.__compress_and_send_json_request(e,s,n||Cn,Yo)}},{key:"__compress_and_send_json_request",value:function(e,r,n,s){var o=function(l,c,u){return l===jt.GZipJS?[Ax(Nx(c),{mtime:0}),R(R({},u),{},{blob:!0,urlQueryArgs:{compression:jt.GZipJS}})]:[{data:$o(c)},u]}(this.compression[jt.GZipJS]?jt.GZipJS:jt.Base64,r,n),i=Sr(o,2),a=i[0],f=i[1];this._send_request(e,a,f,s)}},{key:"_send_request",value:function(e,r,n,s){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(n._batchKey))if(au)this.__request_queue.push([e,r,n,s]);else{var o={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};n=de(o,n||{}),An||(n.method="GET");var i=p&&"sendBeacon"in p.navigator&&n.transport==="sendBeacon";if(e=su(e,n.urlQueryArgs||{},{ip:this.config.ip}),i)try{p==null||p.navigator.sendBeacon(e,qo(r,R(R({},n),{},{sendBeacon:!0})))}catch{}else if(An||!$)try{ou({url:e,data:r,headers:this.config.xhr_headers,options:n,callback:s,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(c){b.error(c)}else{var a,f=$.createElement("script");f.type="text/javascript",f.async=!0,f.defer=!0,f.src=e;var l=$.getElementsByTagName("script")[0];(a=l.parentNode)===null||a===void 0||a.insertBefore(f,l)}}}},{key:"_execute_array",value:function(e){var r,n=this,s=[],o=[],i=[];Qt(e,function(f){f&&(r=f[0],_e(r)?i.push(f):it(f)?f.call(n):_e(f)&&r==="alias"?s.push(f):_e(f)&&r.indexOf("capture")!==-1&&it(n[r])?i.push(f):o.push(f))});var a=function(f,l){Qt(f,function(c){if(_e(c[0])){var u=l;G(c,function(h){u=u[h[0]].apply(u,h.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};a(s,this),a(o,this),a(i,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,r;return((e=this.config.bootstrap)===null||e===void 0?void 0:e.featureFlags)&&Object.keys((r=this.config.bootstrap)===null||r===void 0?void 0:r.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cn;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return b.uninitializedWarning("posthog.capture");if(!function(c){var u=!1;try{var h=c.config.token,d=c.config.respect_dnt,v=c.config.opt_out_capturing_persistence_type,g=c.config.opt_out_capturing_cookie_prefix||void 0,w=c.config.window;h&&(u=ql(h,{respectDnt:d,persistenceType:v,persistencePrefix:g,window:w}))}catch(y){b.error("Unexpected error when checking capturing opt-out status: "+y)}return u}(this)){var s=(n=n||Cn).transport;if(s&&(n.transport=s),!L(e)&&Ne(e)){if(!se||!Nm(se,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var o={uuid:Ft(),event:e,properties:this._calculate_event_properties(e,r||{})};e==="$identify"&&(o.$set=n.$set,o.$set_once=n.$set_once),(o=Rm(o,n._noTruncate?null:this.config.properties_string_max_length)).timestamp=n.timestamp||new Date;var i=R(R({},o.properties.$set),o.$set);Pm(i)||this.setPersonPropertiesForFlags(i),b.info("send",o);var a=JSON.stringify(o),f=this.config.api_host+(n.endpoint||this.analyticsDefaultEndpoint),l=n!==Cn;return!this.config.request_batching||l&&!n._batchKey||n.send_instantly?this.__compress_and_send_json_request(f,a,n):this._requestQueue.enqueue(f,o,n),this._invokeCaptureHooks(e,o),o}}else b.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,r){this.config._onCapture(e,r),G(this.__captureHooks,function(n){return n(e)})}},{key:"_calculate_event_properties",value:function(e,r){if(!this.persistence||!this.sessionPersistence)return r;var n=this.persistence.remove_event_timer(e),s=R({},r);if(s.token=this.config.token,e==="$snapshot"){var o=R(R({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,s}var i=oe.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),f=a.sessionId,l=a.windowId;s.$session_id=f,s.$window_id=l}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(e==="$pageview"||e==="$pageleave"||e==="$autocapture")){var c=this.sessionPropsManager.getSessionProps();s=de(s,c)}if(this.config.__preview_measure_pageview_stats){var u={};e==="$pageview"?u=this.pageViewManager.doPageView():e==="$pageleave"&&(u=this.pageViewManager.doPageLeave()),s=de(s,u)}if(e==="$pageview"&&$&&(s.title=$.title),e==="$performance_event"){var h=this.persistence.properties();return s.distinct_id=h.distinct_id,s.$current_url=i.$current_url,s}if(!L(n)){var d=new Date().getTime()-n;s.$duration=parseFloat((d/1e3).toFixed(3))}s=de({},oe.properties(),this.persistence.properties(),this.sessionPersistence.properties(),s);var v=this.config.property_blacklist;_e(v)?G(v,function(w){delete s[w]}):b.error("Invalid value for property_blacklist config: "+v);var g=this.config.sanitize_properties;return g&&(s=g(s,e)),s}},{key:"register",value:function(e,r){var n;(n=this.persistence)===null||n===void 0||n.register(e,r)}},{key:"register_once",value:function(e,r,n){var s;(s=this.persistence)===null||s===void 0||s.register_once(e,r,n)}},{key:"register_for_session",value:function(e){var r;(r=this.sessionPersistence)===null||r===void 0||r.register(e)}},{key:"unregister",value:function(e){var r;(r=this.persistence)===null||r===void 0||r.unregister(e)}},{key:"unregister_for_session",value:function(e){var r;(r=this.sessionPersistence)===null||r===void 0||r.unregister(e)}},{key:"_register_single",value:function(e,r){this.register(S({},e,r))}},{key:"getFeatureFlag",value:function(e,r){return this.featureFlags.getFeatureFlag(e,r)}},{key:"getFeatureFlagPayload",value:function(e){var r=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(r)}catch{return r}}},{key:"isFeatureEnabled",value:function(e,r){return this.featureFlags.isFeatureEnabled(e,r)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,r)}},{key:"getEarlyAccessFeatures",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,r)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var r,n;return(r=(n=this.sessionManager)===null||n===void 0?void 0:n.onSessionId(e))!==null&&r!==void 0?r:function(){}}},{key:"getSurveys",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(e,r)}},{key:"getActiveMatchingSurveys",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(e,r)}},{key:"identify",value:function(e,r,n){if(!this.__loaded||!this.persistence)return b.uninitializedWarning("posthog.identify");if(e){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==s&&e!==this.get_property(bn)&&(this.unregister(bn),this.register({distinct_id:e}));var i=this.persistence.get_user_state()==="anonymous";e!==s&&i?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(r||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),e!==s&&(this.reloadFeatureFlags(),this.unregister(kn))}else b.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,r){(e||r)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:r||{}}))}},{key:"group",value:function(e,r,n){if(e&&r){var s=this.getGroups();s[e]!==r&&this.resetGroupPropertiesForFlags(e),this.register({$groups:R(R({},s),{},S({},e,r))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags(S({},e,n))),s[e]===r||n||this.reloadFeatureFlags()}else b.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,r)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,r)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var r,n,s,o;if(!this.__loaded)return b.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");(r=this.persistence)===null||r===void 0||r.clear(),(n=this.sessionPersistence)===null||n===void 0||n.clear(),(s=this.persistence)===null||s===void 0||s.set_user_state("anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(Ft());this.register_once({distinct_id:a,$device_id:e?a:i},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,r;return(e=(r=this.sessionManager)===null||r===void 0?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var r=this.config.ui_host||this.config.api_host,n=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=n.sessionId,o=n.sessionStartTimestamp,i=r+"/replay/"+s;if(e!=null&&e.withTimestamp&&o){var a,f=(a=e.timestampLookBack)!==null&&a!==void 0?a:10;if(!o)return i;var l=Math.max(Math.floor((new Date().getTime()-o)/1e3)-f,0);i+="?t=".concat(l)}return i}},{key:"alias",value:function(e,r){return e===this.get_property(Il)?(b.critical("Attempting to create alias for existing People user - aborting."),-2):(L(r)&&(r=this.get_distinct_id()),e!==r?(this._register_single(bn,e),this.capture("$create_alias",{alias:e,distinct_id:r})):(b.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var r,n,s=R({},this.config);St(e)&&(de(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),(r=this.persistence)===null||r===void 0||r.update_config(this.config),(n=this.sessionPersistence)===null||n===void 0||n.update_config(this.config),ne.is_supported()&&ne.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Nt.DEBUG=!0),this.sessionRecording&&!L(e.disable_session_recording)&&s.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!((e=this.sessionRecording)===null||e===void 0||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var r;return(r=this.persistence)===null||r===void 0?void 0:r.props[e]}},{key:"getSessionProperty",value:function(e){var r;return(r=this.sessionPersistence)===null||r===void 0?void 0:r.props[e]}},{key:"toString",value:function(){var e,r=(e=this.config.name)!==null&&e!==void 0?e:Pe;return r!==Pe&&(r=Pe+"."+r),r}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&ne.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!ft.get("ph_optout")||(ft.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var r,n,s,o,i;if(e&&e.clear_persistence)s=!0;else{if(!e||!e.enable_persistence)return;s=!1}this.config.disable_persistence||((r=this.persistence)===null||r===void 0?void 0:r.disabled)===s||(o=this.persistence)===null||o===void 0||o.set_disabled(s),this.config.disable_persistence||((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)===s||(i=this.sessionPersistence)===null||i===void 0||i.set_disabled(s)}},{key:"_gdpr_call_func",value:function(e,r){return r=de({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},r||{}),ne.is_supported()||r.persistence_type!=="localStorage"||(r.persistence_type="cookie"),e(this.config.token,{capture:r.capture,captureEventName:r.capture_event_name,captureProperties:r.capture_properties,persistenceType:r.persistence_type,persistencePrefix:r.cookie_prefix,cookieExpiration:r.cookie_expiration,crossSubdomainCookie:r.cross_subdomain_cookie,secureCookie:r.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=de({enable_persistence:!0},e||{}),this._gdpr_call_func(vx,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var r=de({clear_persistence:!0},e||{});this._gdpr_call_func(mx,r),this._gdpr_update_persistence(r)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(xx,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(ql,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var r=de({enable_persistence:!0},e??{});this._gdpr_call_func(yx,r),this._gdpr_update_persistence(r)}},{key:"debug",value:function(e){e===!1?(p==null||p.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(p==null||p.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),t}();(function(t,e){for(var r=0;r<e.length;r++)t.prototype[e[r]]=Sl(t.prototype[e[r]])})(Jo,["identify"]);var lu,uu,$t={},Yx=function(){he.init=function(t,e,r){if(r)return he[r]||(he[r]=$t[r]=Ko(t||"",e||{},r,function(s){he[r]=$t[r]=s,s._loaded()})),he[r];var n=he;return $t[Pe]?n=$t[Pe]:t&&(n=Ko(t,e||{},Pe,function(s){$t[Pe]=s,s._loaded()}),$t[Pe]=n),he=n,Vo===Rr.INIT_SNIPPET&&(ve[Pe]=he),G($t,function(s,o){o!==Pe&&(he[o]=s)}),n}},Kx=function(){function t(){t.done||(t.done=!0,au=!1,G($t,function(e){e._dom_loaded()}))}$!=null&&$.addEventListener&&($.readyState==="complete"?t():$.addEventListener("DOMContentLoaded",t,!1)),p&&Er(p,"load",t,!0)};(function(t){t.Popover="popover",t.API="api"})(lu||(lu={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(uu||(uu={}));var Jx=(Vo=Rr.INIT_MODULE,he=new Jo,Yx(),he.init(),Kx(),he);let Cr=null;const Xx=()=>Cr,Qx={storefront:{id:"storefront",name:"Storefront"},microsite:{id:"microsite",name:"Microsite"},portal:{id:"portal",name:"Portal"}},Zx=(t,e,r)=>{if(!t)return;const{onLoaded:n,recordSession:s=!0,autocapture:o=!0}=r||{};Jx.init(t,{api_host:"https://app.posthog.com",persistence:"localStorage",autocapture:o,capture_pageview:o,loaded:i=>{Cr=i,Cr.group("app",e,Qx[e]),n&&n(Cr),s&&Cr.startSessionRecording()}},e)},ey=(t,e)=>`shop:${e};${t}`,ty=t=>{try{return t.get_distinct_id().startsWith("shop:")}catch{return!1}},ry=(t,e,r,n)=>{ty(t)||t.identify(ey(e,r),n)},ny=()=>{const t=window.Shopify&&window.Shopify.trackingConsent;return!t||t.userCanBeTracked()},sy=window.$superfiliateStorefront.health.environment===sf.Production?"phc_5G3cfzs931jOEyfbVFkD77HJcNd8bQQVzcH0GsL6wGc":"phc_GUvUykv7SJRySiClvIGZFl38C4DZ07eXkdKen3pYo9S";(rc=window.$superfiliateStorefront).analytics??(rc.analytics={posthogInitialized:!1,posthog:null});const cu={...km,...Em},oy=t=>{window.$superfiliateStorefront.analytics.posthogInitialized||!ny()||Zx(sy,"storefront",{recordSession:!1,autocapture:!1,onLoaded:e=>{const{shop:r}=Ye();e.group("shop",`id:${r.id}`,r),window.$superfiliateStorefront.analytics.posthogInitialized=!0,window.$superfiliateStorefront.analytics.posthog=e,t&&t(e)}})},_u=()=>Xx(),Xo=()=>window.$superfiliateStorefront.analytics.posthogInitialized,iy=(t,e,r)=>{ry(_u(),t,e,r)},ay=()=>({resolution:{height:window.screen.availHeight,width:window.screen.availWidth}}),fy=async(t,e,r=[200,201,204])=>{const n=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return hf(n,r)},ly=async(t,e,r=[200,201,204])=>{const n=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});return hf(n,r)},uy=()=>Ye().apiBaseUrl,du=t=>`${uy()}/${t}`,pu=t=>!!(t!=null&&t.responseJson);var Qo=(t=>(t.GET="GET",t.POST="POST",t))(Qo||{});const cy={GET:ly,POST:fy},hu=async(t,e,r)=>{var n,s;try{const o=cy[t];return await o(e,r)}catch(o){if(pu(o)&&((n=o.response)==null?void 0:n.status)===422&&(s=o.responseJson)!=null&&s.error)return o;throw Xs(o),o}},gu={activation:()=>du("shop_frontend/activations"),preview:()=>du("shop_frontend/activations/preview")},vu=({shop:t},e)=>({shop:{shopify_domain:t.shopifyDomain},customer:{...e},context:{fingerprint:ay(),page_type:xt()}}),_y={CREATE:(t,e)=>hu(Qo.POST,gu.activation(),vu(t,e)),PREVIEW:(t,e)=>hu(Qo.POST,gu.preview(),vu(t,e))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:mu,setPrototypeOf:xu,isFrozen:dy,getPrototypeOf:py,getOwnPropertyDescriptor:hy}=Object;let{freeze:Se,seal:Me,create:yu}=Object,{apply:Zo,construct:ei}=typeof Reflect<"u"&&Reflect;Se||(Se=function(e){return e}),Me||(Me=function(e){return e}),Zo||(Zo=function(e,r,n){return e.apply(r,n)}),ei||(ei=function(e,r){return new e(...r)});const Nn=Ee(Array.prototype.forEach),gy=Ee(Array.prototype.lastIndexOf),bu=Ee(Array.prototype.pop),Ar=Ee(Array.prototype.push),vy=Ee(Array.prototype.splice),Dn=Ee(String.prototype.toLowerCase),ti=Ee(String.prototype.toString),wu=Ee(String.prototype.match),Nr=Ee(String.prototype.replace),my=Ee(String.prototype.indexOf),xy=Ee(String.prototype.trim),He=Ee(Object.prototype.hasOwnProperty),ke=Ee(RegExp.prototype.test),Dr=yy(TypeError);function Ee(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return Zo(t,e,n)}}function yy(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ei(t,r)}}function D(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dn;xu&&xu(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const o=r(s);o!==s&&(dy(e)||(e[n]=o),s=o)}t[s]=!0}return t}function by(t){for(let e=0;e<t.length;e++)He(t,e)||(t[e]=null);return t}function ut(t){const e=yu(null);for(const[r,n]of mu(t))He(t,r)&&(Array.isArray(n)?e[r]=by(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=ut(n):e[r]=n);return e}function Fr(t,e){for(;t!==null;){const n=hy(t,e);if(n){if(n.get)return Ee(n.get);if(typeof n.value=="function")return Ee(n.value)}t=py(t)}function r(){return null}return r}const Su=Se(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ri=Se(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ni=Se(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wy=Se(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),si=Se(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Sy=Se(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ku=Se(["#text"]),Eu=Se(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),oi=Se(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$u=Se(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fn=Se(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ky=Me(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ey=Me(/<%[\w\W]*|[\w\W]*%>/gm),$y=Me(/\$\{[\w\W]*/gm),Ty=Me(/^data-[\-\w.\u00B7-\uFFFF]+$/),Oy=Me(/^aria-[\-\w]+$/),Tu=Me(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Py=Me(/^(?:\w+script|data):/i),Iy=Me(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ou=Me(/^html$/i),Ry=Me(/^[a-z][.\w]*(-[.\w]+)+$/i);var Pu=Object.freeze({__proto__:null,ARIA_ATTR:Oy,ATTR_WHITESPACE:Iy,CUSTOM_ELEMENT:Ry,DATA_ATTR:Ty,DOCTYPE_NAME:Ou,ERB_EXPR:Ey,IS_ALLOWED_URI:Tu,IS_SCRIPT_OR_DATA:Py,MUSTACHE_EXPR:ky,TMPLIT_EXPR:$y});const Mr={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Cy=function(){return typeof window>"u"?null:window},Ay=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Iu=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ru(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cy();const e=T=>Ru(T);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==Mr.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:a,Element:f,NodeFilter:l,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:d}=t,v=f.prototype,g=Fr(v,"cloneNode"),w=Fr(v,"remove"),y=Fr(v,"nextSibling"),k=Fr(v,"childNodes"),U=Fr(v,"parentNode");if(typeof i=="function"){const T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}let P,C="";const{implementation:F,createNodeIterator:j,createDocumentFragment:O,getElementsByTagName:te}=r,{importNode:M}=n;let H=Iu();e.isSupported=typeof mu=="function"&&typeof U=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ie,ERB_EXPR:me,TMPLIT_EXPR:Q,DATA_ATTR:Le,ARIA_ATTR:Ot,IS_SCRIPT_OR_DATA:Qe,ATTR_WHITESPACE:Ze,CUSTOM_ELEMENT:Ue}=Pu;let{IS_ALLOWED_URI:ze}=Pu,K=null;const le=D({},[...Su,...ri,...ni,...si,...ku]);let z=null;const xe=D({},[...Eu,...oi,...$u,...Fn]);let W=Object.seal(yu(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,Ur=null,Ln=!0,jr=!0,We=!1,Un=!0,ct=!1,Pt=!0,et=!1,sr=!1,or=!1,tt=!1,jn=!1,Bn=!1,ic=!0,ac=!1;const jb="user-content-";let hi=!0,Br=!1,ir={},ar=null;const fc=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lc=null;const uc=D({},["audio","video","img","source","image","track"]);let gi=null;const cc=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Hn="http://www.w3.org/1998/Math/MathML",zn="http://www.w3.org/2000/svg",_t="http://www.w3.org/1999/xhtml";let fr=_t,vi=!1,mi=null;const Bb=D({},[Hn,zn,_t],ti);let Wn=D({},["mi","mo","mn","ms","mtext"]),Gn=D({},["annotation-xml"]);const Hb=D({},["title","style","font","a","script"]);let Hr=null;const zb=["application/xhtml+xml","text/html"],Wb="text/html";let ue=null,lr=null;const Gb=r.createElement("form"),_c=function(_){return _ instanceof RegExp||_ instanceof Function},xi=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(lr&&lr===_)){if((!_||typeof _!="object")&&(_={}),_=ut(_),Hr=zb.indexOf(_.PARSER_MEDIA_TYPE)===-1?Wb:_.PARSER_MEDIA_TYPE,ue=Hr==="application/xhtml+xml"?ti:Dn,K=He(_,"ALLOWED_TAGS")?D({},_.ALLOWED_TAGS,ue):le,z=He(_,"ALLOWED_ATTR")?D({},_.ALLOWED_ATTR,ue):xe,mi=He(_,"ALLOWED_NAMESPACES")?D({},_.ALLOWED_NAMESPACES,ti):Bb,gi=He(_,"ADD_URI_SAFE_ATTR")?D(ut(cc),_.ADD_URI_SAFE_ATTR,ue):cc,lc=He(_,"ADD_DATA_URI_TAGS")?D(ut(uc),_.ADD_DATA_URI_TAGS,ue):uc,ar=He(_,"FORBID_CONTENTS")?D({},_.FORBID_CONTENTS,ue):fc,Ie=He(_,"FORBID_TAGS")?D({},_.FORBID_TAGS,ue):ut({}),Ur=He(_,"FORBID_ATTR")?D({},_.FORBID_ATTR,ue):ut({}),ir=He(_,"USE_PROFILES")?_.USE_PROFILES:!1,Ln=_.ALLOW_ARIA_ATTR!==!1,jr=_.ALLOW_DATA_ATTR!==!1,We=_.ALLOW_UNKNOWN_PROTOCOLS||!1,Un=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ct=_.SAFE_FOR_TEMPLATES||!1,Pt=_.SAFE_FOR_XML!==!1,et=_.WHOLE_DOCUMENT||!1,tt=_.RETURN_DOM||!1,jn=_.RETURN_DOM_FRAGMENT||!1,Bn=_.RETURN_TRUSTED_TYPE||!1,or=_.FORCE_BODY||!1,ic=_.SANITIZE_DOM!==!1,ac=_.SANITIZE_NAMED_PROPS||!1,hi=_.KEEP_CONTENT!==!1,Br=_.IN_PLACE||!1,ze=_.ALLOWED_URI_REGEXP||Tu,fr=_.NAMESPACE||_t,Wn=_.MATHML_TEXT_INTEGRATION_POINTS||Wn,Gn=_.HTML_INTEGRATION_POINTS||Gn,W=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&_c(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&_c(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ct&&(jr=!1),jn&&(tt=!0),ir&&(K=D({},ku),z=[],ir.html===!0&&(D(K,Su),D(z,Eu)),ir.svg===!0&&(D(K,ri),D(z,oi),D(z,Fn)),ir.svgFilters===!0&&(D(K,ni),D(z,oi),D(z,Fn)),ir.mathMl===!0&&(D(K,si),D(z,$u),D(z,Fn))),_.ADD_TAGS&&(K===le&&(K=ut(K)),D(K,_.ADD_TAGS,ue)),_.ADD_ATTR&&(z===xe&&(z=ut(z)),D(z,_.ADD_ATTR,ue)),_.ADD_URI_SAFE_ATTR&&D(gi,_.ADD_URI_SAFE_ATTR,ue),_.FORBID_CONTENTS&&(ar===fc&&(ar=ut(ar)),D(ar,_.FORBID_CONTENTS,ue)),hi&&(K["#text"]=!0),et&&D(K,["html","head","body"]),K.table&&(D(K,["tbody"]),delete Ie.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw Dr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Dr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=_.TRUSTED_TYPES_POLICY,C=P.createHTML("")}else P===void 0&&(P=Ay(d,s)),P!==null&&typeof C=="string"&&(C=P.createHTML(""));Se&&Se(_),lr=_}},dc=D({},[...ri,...ni,...wy]),pc=D({},[...si,...Sy]),qb=function(_){let m=U(_);(!m||!m.tagName)&&(m={namespaceURI:fr,tagName:"template"});const E=Dn(_.tagName),J=Dn(m.tagName);return mi[_.namespaceURI]?_.namespaceURI===zn?m.namespaceURI===_t?E==="svg":m.namespaceURI===Hn?E==="svg"&&(J==="annotation-xml"||Wn[J]):!!dc[E]:_.namespaceURI===Hn?m.namespaceURI===_t?E==="math":m.namespaceURI===zn?E==="math"&&Gn[J]:!!pc[E]:_.namespaceURI===_t?m.namespaceURI===zn&&!Gn[J]||m.namespaceURI===Hn&&!Wn[J]?!1:!pc[E]&&(Hb[E]||!dc[E]):!!(Hr==="application/xhtml+xml"&&mi[_.namespaceURI]):!1},rt=function(_){Ar(e.removed,{element:_});try{U(_).removeChild(_)}catch{w(_)}},ur=function(_,m){try{Ar(e.removed,{attribute:m.getAttributeNode(_),from:m})}catch{Ar(e.removed,{attribute:null,from:m})}if(m.removeAttribute(_),_==="is")if(tt||jn)try{rt(m)}catch{}else try{m.setAttribute(_,"")}catch{}},hc=function(_){let m=null,E=null;if(or)_="<remove></remove>"+_;else{const ae=wu(_,/^[\r\n\t ]+/);E=ae&&ae[0]}Hr==="application/xhtml+xml"&&fr===_t&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");const J=P?P.createHTML(_):_;if(fr===_t)try{m=new h().parseFromString(J,Hr)}catch{}if(!m||!m.documentElement){m=F.createDocument(fr,"template",null);try{m.documentElement.innerHTML=vi?C:J}catch{}}const ye=m.body||m.documentElement;return _&&E&&ye.insertBefore(r.createTextNode(E),ye.childNodes[0]||null),fr===_t?te.call(m,et?"html":"body")[0]:et?m.documentElement:ye},gc=function(_){return j.call(_.ownerDocument||_,_,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},yi=function(_){return _ instanceof u&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof c)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},vc=function(_){return typeof a=="function"&&_ instanceof a};function dt(T,_,m){Nn(T,E=>{E.call(e,_,m,lr)})}const mc=function(_){let m=null;if(dt(H.beforeSanitizeElements,_,null),yi(_))return rt(_),!0;const E=ue(_.nodeName);if(dt(H.uponSanitizeElement,_,{tagName:E,allowedTags:K}),Pt&&_.hasChildNodes()&&!vc(_.firstElementChild)&&ke(/<[/\w!]/g,_.innerHTML)&&ke(/<[/\w!]/g,_.textContent)||_.nodeType===Mr.progressingInstruction||Pt&&_.nodeType===Mr.comment&&ke(/<[/\w]/g,_.data))return rt(_),!0;if(!K[E]||Ie[E]){if(!Ie[E]&&yc(E)&&(W.tagNameCheck instanceof RegExp&&ke(W.tagNameCheck,E)||W.tagNameCheck instanceof Function&&W.tagNameCheck(E)))return!1;if(hi&&!ar[E]){const J=U(_)||_.parentNode,ye=k(_)||_.childNodes;if(ye&&J){const ae=ye.length;for(let Re=ae-1;Re>=0;--Re){const pt=g(ye[Re],!0);pt.__removalCount=(_.__removalCount||0)+1,J.insertBefore(pt,y(_))}}}return rt(_),!0}return _ instanceof f&&!qb(_)||(E==="noscript"||E==="noembed"||E==="noframes")&&ke(/<\/no(script|embed|frames)/i,_.innerHTML)?(rt(_),!0):(ct&&_.nodeType===Mr.text&&(m=_.textContent,Nn([ie,me,Q],J=>{m=Nr(m,J," ")}),_.textContent!==m&&(Ar(e.removed,{element:_.cloneNode()}),_.textContent=m)),dt(H.afterSanitizeElements,_,null),!1)},xc=function(_,m,E){if(ic&&(m==="id"||m==="name")&&(E in r||E in Gb))return!1;if(!(jr&&!Ur[m]&&ke(Le,m))){if(!(Ln&&ke(Ot,m))){if(!z[m]||Ur[m]){if(!(yc(_)&&(W.tagNameCheck instanceof RegExp&&ke(W.tagNameCheck,_)||W.tagNameCheck instanceof Function&&W.tagNameCheck(_))&&(W.attributeNameCheck instanceof RegExp&&ke(W.attributeNameCheck,m)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(m))||m==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&ke(W.tagNameCheck,E)||W.tagNameCheck instanceof Function&&W.tagNameCheck(E))))return!1}else if(!gi[m]){if(!ke(ze,Nr(E,Ze,""))){if(!((m==="src"||m==="xlink:href"||m==="href")&&_!=="script"&&my(E,"data:")===0&&lc[_])){if(!(We&&!ke(Qe,Nr(E,Ze,"")))){if(E)return!1}}}}}}return!0},yc=function(_){return _!=="annotation-xml"&&wu(_,Ue)},bc=function(_){dt(H.beforeSanitizeAttributes,_,null);const{attributes:m}=_;if(!m||yi(_))return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let J=m.length;for(;J--;){const ye=m[J],{name:ae,namespaceURI:Re,value:pt}=ye,zr=ue(ae),bi=pt;let be=ae==="value"?bi:xy(bi);if(E.attrName=zr,E.attrValue=be,E.keepAttr=!0,E.forceKeepAttr=void 0,dt(H.uponSanitizeAttribute,_,E),be=E.attrValue,ac&&(zr==="id"||zr==="name")&&(ur(ae,_),be=jb+be),Pt&&ke(/((--!?|])>)|<\/(style|title)/i,be)){ur(ae,_);continue}if(E.forceKeepAttr)continue;if(!E.keepAttr){ur(ae,_);continue}if(!Un&&ke(/\/>/i,be)){ur(ae,_);continue}ct&&Nn([ie,me,Q],Sc=>{be=Nr(be,Sc," ")});const wc=ue(_.nodeName);if(!xc(wc,zr,be)){ur(ae,_);continue}if(P&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Re)switch(d.getAttributeType(wc,zr)){case"TrustedHTML":{be=P.createHTML(be);break}case"TrustedScriptURL":{be=P.createScriptURL(be);break}}if(be!==bi)try{Re?_.setAttributeNS(Re,ae,be):_.setAttribute(ae,be),yi(_)?rt(_):bu(e.removed)}catch{ur(ae,_)}}dt(H.afterSanitizeAttributes,_,null)},Vb=function T(_){let m=null;const E=gc(_);for(dt(H.beforeSanitizeShadowDOM,_,null);m=E.nextNode();)dt(H.uponSanitizeShadowNode,m,null),mc(m),bc(m),m.content instanceof o&&T(m.content);dt(H.afterSanitizeShadowDOM,_,null)};return e.sanitize=function(T){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=null,E=null,J=null,ye=null;if(vi=!T,vi&&(T="<!-->"),typeof T!="string"&&!vc(T))if(typeof T.toString=="function"){if(T=T.toString(),typeof T!="string")throw Dr("dirty is not a string, aborting")}else throw Dr("toString is not a function");if(!e.isSupported)return T;if(sr||xi(_),e.removed=[],typeof T=="string"&&(Br=!1),Br){if(T.nodeName){const pt=ue(T.nodeName);if(!K[pt]||Ie[pt])throw Dr("root node is forbidden and cannot be sanitized in-place")}}else if(T instanceof a)m=hc("<!---->"),E=m.ownerDocument.importNode(T,!0),E.nodeType===Mr.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?m=E:m.appendChild(E);else{if(!tt&&!ct&&!et&&T.indexOf("<")===-1)return P&&Bn?P.createHTML(T):T;if(m=hc(T),!m)return tt?null:Bn?C:""}m&&or&&rt(m.firstChild);const ae=gc(Br?T:m);for(;J=ae.nextNode();)mc(J),bc(J),J.content instanceof o&&Vb(J.content);if(Br)return T;if(tt){if(jn)for(ye=O.call(m.ownerDocument);m.firstChild;)ye.appendChild(m.firstChild);else ye=m;return(z.shadowroot||z.shadowrootmode)&&(ye=M.call(n,ye,!0)),ye}let Re=et?m.outerHTML:m.innerHTML;return et&&K["!doctype"]&&m.ownerDocument&&m.ownerDocument.doctype&&m.ownerDocument.doctype.name&&ke(Ou,m.ownerDocument.doctype.name)&&(Re="<!DOCTYPE "+m.ownerDocument.doctype.name+`>
`+Re),ct&&Nn([ie,me,Q],pt=>{Re=Nr(Re,pt," ")}),P&&Bn?P.createHTML(Re):Re},e.setConfig=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xi(T),sr=!0},e.clearConfig=function(){lr=null,sr=!1},e.isValidAttribute=function(T,_,m){lr||xi({});const E=ue(T),J=ue(_);return xc(E,J,m)},e.addHook=function(T,_){typeof _=="function"&&Ar(H[T],_)},e.removeHook=function(T,_){if(_!==void 0){const m=gy(H[T],_);return m===-1?void 0:vy(H[T],m,1)[0]}return bu(H[T])},e.removeHooks=function(T){H[T]=[]},e.removeAllHooks=function(){H=Iu()},e}var Cu=Ru(),Ny=0;function x(t,e,r,n,s,o){e||(e={});var i,a,f=e;"ref"in e&&(i=e.ref,delete e.ref);var l={type:t,props:f,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ny,__i:-1,__u:0,__source:s,__self:o};if(typeof t=="function"&&(i=t.defaultProps))for(a in i)f[a]===void 0&&(f[a]=i[a]);return A.vnode&&A.vnode(l),l}const Dy={woff:"format('woff')",woff2:"format('woff2')",otf:"format('opentype')",ttf:"format('truetype')"},Fy=(t,e,r)=>{const n=(r||"").split(".").at(-1)||"";return`
    @font-face {
      font-family: '${t}';
      src: url('${r||""}') ${Dy[n]||""};
      font-weight: ${e};
    }
  `},My=()=>{var o,i,a,f,l,c,u,h,d;const[t,e]=wt(Xt),r=((a=(i=(o=t==null?void 0:t.storefrontData)==null?void 0:o.personalization)==null?void 0:i.branding)==null?void 0:a.fonts)||{},s=[["SF-Primary-Font","100 300",(f=r==null?void 0:r.primary)==null?void 0:f.light],["SF-Primary-Font","400 500",(l=r==null?void 0:r.primary)==null?void 0:l.regular],["SF-Primary-Font","600 900",(c=r==null?void 0:r.primary)==null?void 0:c.bold],["SF-Secondary-Font","100 300",(u=r==null?void 0:r.secondary)==null?void 0:u.light],["SF-Secondary-Font","400 500",(h=r==null?void 0:r.secondary)==null?void 0:h.regular],["SF-Secondary-Font","600 900",(d=r==null?void 0:r.secondary)==null?void 0:d.bold]].map(v=>Fy(...v));return x("style",{dangerouslySetInnerHTML:{__html:Cu.sanitize(s.join(" "))}})};function ii(t){return t!=null}const Ly=t=>t.filter(ii),Uy=t=>Object.fromEntries(Object.entries(t).filter(([e,r])=>ii(r)));function jy(t){return ii(t)?Array.isArray(t)?Ly(t):Uy(t):null}const By=(t,e)=>t.filter(r=>e.indexOf(r)<0),Hy=t=>t.replace(/([A-Z])/g," $1").split(" ").join("_").toLowerCase(),zy=t=>Object.fromEntries(Object.entries(t).map(([e,r])=>[Hy(e),r]));let Xe;typeof window<"u"&&(Xe=window==null?void 0:window.$superfiliateStorefront);const Au=((nc=Xe==null?void 0:Xe.logging)==null?void 0:nc.reportError)||console.error;(sc=Xe==null?void 0:Xe.logging)!=null&&sc.customConsoleLog,(oc=Xe==null?void 0:Xe.logging)!=null&&oc.debugConsoleLog;const Wy=({htmlTemplate:t,fallback:e,fallbackText:r,ignoreMissingVariables:n=[],variables:s={}})=>{const o={...jy(zy(s))};let i=`${t||""}`;Object.entries(o).forEach(([f,l])=>{const c=new RegExp(`{{ *${f} *}}`,"g"),u=`${l}`.replace(/</g,"&lt;").replace(/>/g,"&gt;");i=i.replace(c,u)});const a=Array.from(i.matchAll(/{{(.*)}}/g));if(a.length){if(r)return r;if(e)return"";const f=a.map(l=>l[1]);By(f,n).length>0&&Au(`Mustache variables missing: '${i}', ${JSON.stringify(s)}`)}return i=i.replace(/{{.*}}/g,""),i=i.replace(/\\n/g,"<br/>"),i},Nu=oo({}),Du=({htmlTemplate:t,fallback:e,ignoreMissingVariables:r=[]})=>{const n=wt(Nu);return Wy({htmlTemplate:t,fallback:e,ignoreMissingVariables:r,variables:n})},Fu={Context:Nu,Content:({htmlTemplate:t,fallback:e,className:r,ignoreMissingVariables:n=[]})=>{const s=Du({htmlTemplate:t,fallback:e,ignoreMissingVariables:n});return!s&&e&&r?x("div",{className:r,children:e}):!s&&e?x(Oe,{children:e}):s?x("div",{dangerouslySetInnerHTML:{__html:Cu.sanitize(s)},className:r}):null},useMustacheContent:Du};var Mu={exports:{}},Gy="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qy=Gy,Vy=qy;function Lu(){}function Uu(){}Uu.resetWarningCache=Lu;var Yy=function(){function t(n,s,o,i,a,f){if(f!==Vy){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Uu,resetWarningCache:Lu};return r.PropTypes=r,r};Mu.exports=Yy();var Ky=Mu.exports;const nr=Si(Ky);var Jy=["color","size","title","className"];function ai(){return ai=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ai.apply(null,arguments)}function Xy(t,e){if(t==null)return{};var r,n,s=Qy(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Qy(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var ju=qf(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=t.size,o=s===void 0?"1em":s,i=t.title,a=i===void 0?null:i,f=t.className,l=f===void 0?"":f,c=Xy(t,Jy);return ho.createElement("svg",ai({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-x-lg",l].filter(Boolean).join(" ")},c),a?ho.createElement("title",null,a):null,ho.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"}))});ju.propTypes={color:nr.string,size:nr.oneOfType([nr.string,nr.number]),title:nr.string,className:nr.string};const Bu=ju;var N=(t=>(t.Hidden="hidden",t.BottomRight="bottom_right",t.MiddleRight="middle_right",t.MiddleLeft="middle_left",t.BottomLeft="bottom_left",t.MainContent="main_content",t))(N||{}),Mn=(t=>(t.SmallButton="small_button",t.Video="video",t))(Mn||{}),fe=(t=>(t.Hidden="hidden",t.Visible="visible",t))(fe||{}),Tt={},fi=Wr&&Wr.__assign||function(){return fi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},fi.apply(this,arguments)};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.join=Tt.subst=Tt.query=void 0;function Zy(t,e,r){if(r===void 0&&(r={}),typeof e=="string"){var n=t,s=e,o=r;return zu(s,o,n)}else{var i=t,o=e;return zu(i,o)}}var Hu=Tt.default=Zy;function zu(t,e,r){var n=Gu(t,e),s=n.renderedPath,o=n.remainingParams,i=tb(o),a=Wu(i),f=li(s,"?",a);return r?li(r,"/",f):f}function Wu(t){return new URLSearchParams(t).toString()}Tt.query=Wu;function eb(t,e){var r=Gu(t,e).renderedPath;return r}Tt.subst=eb;function Gu(t,e){var r=fi({},e),n=["boolean","string","number"],s=t.replace(/:\w+/g,function(o){var i=o.slice(1);if(/^\d+$/.test(i))return o;if(!e.hasOwnProperty(i))throw new Error("Missing value for path parameter "+i+".");if(!n.includes(typeof e[i]))throw new TypeError("Path parameter "+i+" cannot be of type "+typeof e[i]+". "+("Allowed types are: "+n.join(", ")+"."));if(typeof e[i]=="string"&&e[i].trim()==="")throw new Error("Path parameter "+i+" cannot be an empty string.");return delete r[i],encodeURIComponent(e[i])});return{renderedPath:s,remainingParams:r}}function li(t,e,r){var n=t.endsWith(e)?t.slice(0,-e.length):t,s=r.startsWith(e)?r.slice(e.length):r;return n===""||s===""?n+s:n+e+s}Tt.join=li;function tb(t){return Object.keys(t).filter(function(e){return rb(t[e])}).reduce(function(e,r){return e[r]=t[r],e},{})}function rb(t){return t!=null}const nb=(t,e)=>Hu("https://image.mux.com/:mediaID/animated.webp",{mediaID:t,fps:24,end:e||5}),sb=(t,e,r)=>Hu(`https://image.mux.com/:mediaID/thumbnail.${r||"webp"}`,{mediaID:t,time:e||0}),ob=({setWidgetVisibility:t,position:e,preview:r,buttonFormat:n})=>{const[s,o]=wt(Xt),[i,a]=Ve(fe.Hidden),[f,l]=Ve(),[c,u]=Ve(),h=[N.BottomLeft,N.BottomRight].includes(e),d=s.storefrontData.personalization,v=d==null?void 0:d.widget.media,g=!!v&&n===Mn.Video,w="superfiliateWidgetState",{closedAt:y,visibility:k}=JSON.parse(localStorage.getItem(w)||"{}"),U=P=>{k==fe.Hidden&&P>1?(a(fe.Visible),localStorage.setItem(w,JSON.stringify({closedAt:null,visibility:fe.Visible}))):!k||k===fe.Visible?a(fe.Visible):a(fe.Hidden)};return Be(()=>{const P=(new Date().getTime()-new Date(y).getTime())/864e5;!g||!h?a(fe.Hidden):U(P)},[]),Be(()=>{l(d==null?void 0:d.widget.htmlFoldedPasserbyText),u(d==null?void 0:d.widget.foldedPasserbyIconUrl)},[s]),e==N.Hidden||e==N.MainContent?null:x("div",{className:I({"origin-bottom-right slide-in-from-right right-0 bottom-[50vh] translate-x-[36%]":e===N.MiddleRight,"origin-bottom-left slide-in-from-left left-0 bottom-[50vh] translate-x-[-36%]":e===N.MiddleLeft,"right-4 bottom-4 slide-in-from-right":e===N.BottomRight,"left-4 bottom-4 slide-in-from-left":e===N.BottomLeft,"pointer-events-none":r},"fixed z-index-program-widget-modal","animate-in fade-in"),children:x("div",{"aria-label":"Show referral offer","aria-live":"polite",className:I({"right-0 rotate-[270deg] rounded-t-2xl":e===N.MiddleRight,"left-0 rotate-[90deg] rounded-t-2xl":e===N.MiddleLeft,"rounded-lg p-0.5":![N.MiddleRight,N.MiddleLeft].includes(e)&&i===fe.Visible,"rounded-lg":![N.MiddleRight,N.MiddleLeft].includes(e)&&i===fe.Hidden},"bg-primary text-primary-content","flex items-center"),"data-cy":"pw-folded","data-testid":"sf-widget-folded",role:"button",tabIndex:-1,children:x("div",{className:I("flex flex-col",g&&i===fe.Visible?"w-[80px] sm:w-[126px]":"w-full"),children:[n===Mn.Video&&i===fe.Visible&&x(Oe,{children:[x("div",{className:I("w-5 h-5 absolute -top-2.5 -right-2.5 cursor-pointer font-bold z-10 flex bg-white rounded-full p-[6px]",{"pointer-events-none":r}),onClick:()=>{t(re.Folded),a(fe.Hidden),localStorage.setItem(w,JSON.stringify({closedAt:new Date,visibility:fe.Hidden}))},children:x(Bu,{className:I("text-primary font-bold w-2 h-2")})}),x("div",{className:I("relative w-full max-w-full rounded-lg overflow-hidden h-[141px] sm:h-[222px]",{"pointer-events-none":r}),onClick:()=>t(re.Open),children:[(v==null?void 0:v.mediaType)!=="video"?null:x("img",{alt:"Blurred asset background",className:I("blur absolute w-[120%] max-w-[unset] h-[120%] left-[-10%] top-[-10%] -z-[10]"),src:sb(v.mediaId)}),(v==null?void 0:v.mediaType)!=="video"?null:x("img",{alt:"Preview referral widget",className:"size-full max-h-full max-w-full object-contain absolute",src:nb(v==null?void 0:v.mediaId)})]})]}),(c||f)&&x("div",{className:I("flex bg-primary justify-center items-center rounded-lg",{"absolute inset-x-0 bottom-0 mx-1 mb-1.5 py-1 px-2":i===fe.Visible,"px-4 py-3 w-fit":i===fe.Hidden,"pointer-events-none":r}),onClick:()=>t(re.Open),children:[c&&x("img",{alt:"Gift",className:I("h-[18px] w-[18px]"),src:c}),f&&x(Fu.Content,{className:I({"ml-1":!!c,"text-xs":i===fe.Visible},"font-semibold font-display leading-4 sm:leading-6"),htmlTemplate:f})]})]})})})},ib=(t,e)=>{const r=e||"quality=85";if(t.includes("cdn.shopify.com")){const[i,a]=t.split("?");return a?`${i}?${r.replace(",","&")}&${a}`:`${i}?${r.replace(",","&")}`}return t.startsWith("http")?`https://superfiliate-cdn.com/cdn-cgi/image/${r}/${t}`:t.includes("downgraded-cloudflare-image")?`https://app.superfiliate.com/redirects/upgrade_cloudflare_image/${t}/${r}`:`https://imagedelivery.net/JxMt8_0v0PNFhBJLkwBu2A/${t}/${r}`},ab=({logoMediaId:t})=>x("div",{className:I("flex flex-col w-full h-full bg-primary items-center justify-center"),children:[x("div",{className:I("flex flex-col"),children:x("div",{className:I("absolute h-[190px] w-[190px] inset-0 m-auto"),children:[x("svg",{className:I("animate-spin text-primary-content"),fill:"none",height:"190",viewBox:"0 0 190 190",width:"190",xmlns:"http://www.w3.org/2000/svg",children:[x("path",{d:"M95 2.375C95 1.06332 96.0638 -0.00309968 97.3751 0.029681C116.06 0.496782 134.211 6.46689 149.543 17.218C164.875 27.9691 176.673 43.0005 183.478 60.4079C183.956 61.6295 183.316 62.993 182.082 63.4399V63.4399C180.849 63.8869 179.49 63.2479 179.011 62.0269C172.539 45.5368 161.349 31.2978 146.816 21.1071C132.283 10.9163 115.084 5.24726 97.375 4.78124C96.0638 4.74674 95 3.68668 95 2.375V2.375Z",fill:"currentColor"}),x("defs",{children:x("clipPath",{id:"clip0_43382_19090",children:x("rect",{fill:"white",height:"40",transform:"translate(35 75)",width:"120"})})})]}),x("span",{className:I("absolute text-primary-content w-full text-center text-sm mt-[32px]"),children:"Preparing your experience"})]})}),t&&x("div",{className:I("w-[120px] h-[120px] flex items-center justify-center"),children:x("img",{alt:"Logo",className:"flex items-center",src:ib(t)})})]}),fb=({persona:t})=>{var o,i,a,f;const e=Te("order_status")?bm():mm(t),[r,n]=wt(Xt),s=Te("order_status")&&((o=r.storefrontData.personalization)==null?void 0:o.widget.positionOrderStatus)===N.MainContent;return t===ce.Lead&&((i=r.discountResponse)==null?void 0:i.sf_lead_one_time_discount)=="$0"?null:x("div",{className:I("w-full relative bg-primary",{"h-[662px]":s,"h-full":!s}),children:[x("div",{className:"sf-w-full sf-h-full sf-absolute sf-flex sf-justify-center sf-items-center",children:t!==ce.Lead&&x(ab,{logoMediaId:((f=(a=r.storefrontData.personalization)==null?void 0:a.branding.images.altLogoMedia)==null?void 0:f.mediaId)??null})}),x("iframe",{allow:"web-share",className:"sf-w-full sf-h-full sf-absolute",src:e})]})},lb=({setWidgetVisibility:t,position:e,className:r})=>e==N.Hidden||e==N.MainContent?null:x("div",{className:I("relative"),children:x("div",{className:I("z-10 absolute right-2.5 top-2.5","p-2.5 h-9 w-9","flex items-center justify-center","text-lg rounded-full bg-black/50",r),"data-cy":"fold-pw","data-testid":"sf-fold-button",role:"button",onClick:()=>t(re.Folded),children:x("span",{children:x(Bu,{className:I("font-bold text-white"),size:13})})})}),qu=({className:t,children:e,withShadow:r=!1,onClick:n})=>x("div",{className:I("rounded-2xl bg-base p-6 text-center text-base-content",!r&&"border border-base-content/10",t),style:{boxShadow:r?"0px 4px 4px rgba(0, 0, 0, 0.06)":""},onClick:n,children:e}),ub=()=>x("div",{className:I("animate-in fade-in"),children:[x("div",{className:I("bg-primary-gradient py-10"),children:x("div",{className:I("mx-5 grid w-full grid-cols-2 gap-2 text-base"),children:[x("p",{className:I("col-span-2 mb-2 h-4 w-6/12 animate-pulse rounded bg-base/[0.5]")}),x("p",{className:I("col-span-2 h-8 w-10/12 animate-pulse rounded bg-base/[0.5]")})]})}),x("div",{className:I("mx-5 -mt-7 pb-2"),children:x(qu,{withShadow:!0,children:x("div",{className:I("animate-pulse"),children:[x("p",{className:I("mb-4 h-12 w-full rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-11/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-9/12 rounded bg-gray-300")})]})})}),x("div",{className:I("mx-5 py-2"),children:x(qu,{withShadow:!0,children:x("div",{className:I("animate-pulse"),children:[x("p",{className:I("mx-auto mb-4 h-5 w-6/12 rounded bg-gray-300")}),x("div",{className:I("relative mx-auto mb-8 h-36"),children:[x("p",{className:I("absolute right-0 mx-auto h-36 w-[95%] rounded-xl bg-gray-300")}),x("p",{className:I("absolute right-4 top-4 mx-auto h-36 w-[95%]  rounded-xl bg-gray-300")})]}),x("p",{className:I("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-4/12 rounded bg-gray-300")})]})})})]}),cb=({setWidgetVisibility:t,position:e,persona:r,preview:n})=>{const[s,o]=wt(Xt);return e==N.Hidden?null:x(Oe,{children:[e!==N.MainContent&&r!==ce.Lead&&x(Oe,{children:[x("div",{className:I("fixed block sm:hidden","z-index-program-widget-modal h-screen w-screen","bg-base-content/20 backdrop-blur-xl","animate-in fade-in",{"pointer-events-none":n}),"data-testid":"sf-widget-backdrop",onClick:()=>t(re.Folded)}),x("style",{children:`
              @media only screen and (max-width: 640px) {
                body {
                  overflow: hidden;
                }
              }
            `})]}),x("div",{"aria-label":"Referral offer","aria-modal":"true",className:I({"right-0 bottom-0 slide-in-from-right sm:right-4 sm:bottom-4":e===N.BottomRight||e===N.MiddleRight,"left-0 bottom-0 slide-in-from-left sm:left-4 sm:bottom-4":e===N.BottomLeft||e===N.MiddleLeft,"fixed z-index-program-widget-modal shadow-2xl sm:max-w-[390px] sm:max-h-[680px]":e!==N.MainContent,"my-3 w-full sm:max-h-[662px]":e===N.MainContent,"pointer-events-none":n,"h-[144px] rounded-3xl mx-3 my-6 sm:m-0 w-3/4 overflow-hidden":r===ce.Lead,"w-screen":r!==ce.Lead&&e!==N.MainContent,"min-h-[360px] h-full":r!==ce.Lead},"overflow-auto bg-soft-primary-gradient text-base-content text-md","no-scrollbar max-h-screen","animate-in fade-in sm:rounded-3xl"),"data-cy":"pw-opened","data-testid":"sf-widget-open",role:"dialog",children:[x(lb,{className:I({"h-6 w-6 right-4 top-3":r===ce.Lead},r===ce.Passerby?"text-base-content":"text-primary-content"),position:e,setWidgetVisibility:t}),s.loading?x(ub,{}):x(fb,{persona:r})]})]})},ui="$superfiliate.programWidget.activationResponse",Vu="$superfiliate.programWidget.activationResponseUpdatedAt",_b=1,Yu="$superfiliate.leadModalAutoOpened",db=()=>{const t=window.localStorage.getItem(Vu);return t?parseInt(t,10):0},pb=()=>{const t=db();return(Date.now()-t)/(1e3*3600)<_b},Ku=()=>{const t=window.localStorage.getItem(ui);let e;try{e=JSON.parse(t||"null")}catch{e=null}return e&&(!e.sf_code||!e.sf_link)?(window.localStorage.removeItem(ui),null):e},hb=t=>{if(t)try{window.localStorage.setItem(ui,JSON.stringify(t)),window.localStorage.setItem(Vu,JSON.stringify(Date.now()))}catch(e){gn(e)}},gb=()=>{const t=window.localStorage.getItem(Yu);let e;try{e=JSON.parse(t||"false")}catch{e=!1}return e},vb=t=>{if(t!==void 0)try{window.localStorage.setItem(Yu,JSON.stringify(t))}catch(e){gn(e)}},ci=()=>{const t=of()||af(),e=vr(),r=Ku();if(Ct("pageType",xt()),Ct("autoAppliedDiscount",e),Ct("utmParams",t),Te("online_store")&&e&&(t!=null&&t.utm_source)){if(t.utm_source==="superfiliate-reward")return ce.SuperfiliateReward;if(t.utm_source==="superfiliate")return ce.Lead}return r!=null&&r.sf_code?ce.SuperfiliateShare:ce.Passerby},_i=()=>{var n,s,o,i,a,f;const t=Ye(),e=window.location.href;if(Te("order_status"))return((s=(n=t.personalization)==null?void 0:n.widget)==null?void 0:s.positionOrderStatus)||N.Hidden;const r=(((i=(o=t.personalization)==null?void 0:o.widget)==null?void 0:i.positionCustom)||[]).find(({regex:l})=>!!new RegExp(l).exec(e));return r?r.position:Te("online_store")&&((f=(a=t.personalization)==null?void 0:a.widget)==null?void 0:f.positionOnlineStore)||N.Hidden},mb={[N.Hidden]:re.Hidden,[N.MainContent]:re.Open,[N.BottomLeft]:re.Folded,[N.BottomRight]:re.Folded,[N.MiddleRight]:re.Folded,[N.MiddleLeft]:re.Folded},xb=()=>{var a;const t=Ye(),e=_i(),r=mb[e],n=ci(),s=[ce.Lead,ce.SuperfiliateReward].includes(n),o=gb();if(s&&!o)return vb(!0),re.Open;const i=(a=t.personalization)==null?void 0:a.widget;return Te("order_status")&&(i!=null&&i.hiddenOrderStatus)||Te("online_store")&&(i!=null&&i.hiddenOnlineStore)?re.Hidden:r},yb=()=>x("style",{children:`
      @media (max-width: 1024px) {
        *[tabindex="-1"][role="dialog"] {
          visibility: hidden !important;
        }
      }
    `}),bb=()=>{if("pushState"in window.history){const r=new URL(window.location.href);r.hash="",window.history.pushState("",document.title,r.toString());return}const t=document.body.scrollTop,e=document.body.scrollLeft;window.location.hash="",document.body.scrollTop=t,document.body.scrollLeft=e},wb=()=>{var c;const[t,e]=bt(()=>[_i(),xb()],[]),[r,n]=Ve(e);Be(()=>{r===re.Open&&(Xo()?_u().capture(cu.PROGRAM_WIDGET_OPENED,{pageType:xt()}):oy(u=>{u.capture(cu.PROGRAM_WIDGET_OPENED,{pageType:xt()})}))},[r]);const[s,o]=Ve(ci()),[i,a]=wt(Xt),f=((c=i.storefrontData.personalization)==null?void 0:c.widget.buttonFormat)||Mn.SmallButton,l=()=>{window.location.hash==="#referral"&&(n(re.Open),bb())};return Be(()=>{window.addEventListener("hashchange",l),l()},[]),Be(()=>{const u=ci();s!==u&&o(u)},[i,s,o]),Ct("widgetVisibility",r),Ct("widgetPosition",t),Ct("widgetPersona",s),x(Oe,{children:[r===re.Open&&x(yb,{}),r===re.Folded&&x(ob,{buttonFormat:f,position:t,setWidgetVisibility:n}),r===re.Open&&x(cb,{persona:s,position:t===N.Hidden?N.BottomLeft:t,setWidgetVisibility:n})]})};var Lr=(t=>(t.Shopify="shopify",t.Recharge="recharge",t))(Lr||{});const Sb=()=>{const{scriptId:t}=Ye(),e=document.getElementById(t);return e?JSON.parse(e.innerHTML):null},Ju=()=>{const t=xt();return t===q.RechargeOrderStatus?Lr.Recharge:t===q.ShopifyOrderStatus?Lr.Shopify:null},kb=()=>{var t,e,r,n,s,o,i,a,f,l,c,u;return{customer:{shopify_customer_id:(e=(t=window.Shopify)==null?void 0:t.checkout)==null?void 0:e.customer_id,email:(n=(r=window.Shopify)==null?void 0:r.checkout)==null?void 0:n.email,first_name:(i=(o=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:o.shipping_address)==null?void 0:i.first_name,last_name:(l=(f=(a=window.Shopify)==null?void 0:a.checkout)==null?void 0:f.shipping_address)==null?void 0:l.last_name},order:{shopify_order_id:(u=(c=window.Shopify)==null?void 0:c.checkout)==null?void 0:u.order_id}}},Eb=()=>{const t=window.location.search,e=new URLSearchParams(t).get("preview")||"{}";return{preview:JSON.parse(e)}},$b=()=>{let t;return Ju()===Lr.Shopify?t=kb():Ju()===Lr.Recharge&&(t=Sb()),t?{...t,...Eb()}:null},Tb=t=>document.head.insertAdjacentHTML("beforeend",`<style>${t}</style>`),Ob=t=>{let e=t||"#000000";if(e.length<3)e="#000000";else if(e.length<5){const r=e[e.length-3],n=e[e.length-2],s=e[e.length-1];e=`#${r}${r}${n}${n}${s}${s}`}return e.toUpperCase()},Pb=t=>{if(!t)return null;const e=Ob(t),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?`${parseInt(r[1],16)},
       ${parseInt(r[2],16)},
       ${parseInt(r[3],16)}`.replace(/\s+/g,""):null},Ib=t=>{var r,n;const e=Object.entries(((n=(r=t.personalization)==null?void 0:r.branding)==null?void 0:n.colors)||{}).map(([s,o])=>{const i=s.replace(/_/g,"-").replace(/([A-Z])/g," $1").split(" ").join("-").toLowerCase(),a=Pb(o);return`--${i}-color: ${a};`});Tb(`._sf-storefront { ${e.join("")} }`)},Rb=()=>{const t=bt(()=>Ye(),[]),e=bt(()=>Te("order_status")?$b():null,[]),[r,n]=Ve(!1),[s,o]=Ve({loading:r,storefrontData:t,cartData:e}),i=c=>o(u=>({...u,activationResponse:c})),a=async c=>{const u={...(e==null?void 0:e.customer)||{},code:c==null?void 0:c.sf_code};if((u.email||u.shopify_customer_id||u.code)&&!pb()){n(!0);try{const d=await _y.PREVIEW(Ye(),u);if(!d||pu(d))return;i(d),hb(d)}finally{n(!1)}}},f=async()=>{Ib(t);const c=Ku()||void 0;i(c),a(c)};Be(()=>{o(c=>({...c,loading:r}))},[r]),Be(()=>{var c,u;if(Xo()&&((u=(c=s.cartData)==null?void 0:c.customer)!=null&&u.email)){const{email:h}=s.cartData.customer,{shop:d}=Ye();iy(h,d.id,s.cartData.customer)}},[Xo(),s]),Be(()=>{f().catch(Au)},[]);const l=bt(()=>({...t.defaultSfVariables,...s.activationResponse,...s.discountResponse}),[s.activationResponse,s.discountResponse]);return x(Xt.Provider,{value:[s,o],children:x(Fu.Context.Provider,{value:l,children:[x(My,{}),x(wb,{})]})})},di=t=>new Promise(e=>setTimeout(e,t)),Cb=t=>100+t**.7,Xu=async(t,e=6e4,r=Cb)=>{let n=0;for(;!await t();){const s=typeof r=="function"?r(n):r;if(await di(s),n=n+s,n>=e)throw new Error("[Superfiliate] Max wait time reached before check passed")}},Qu="_sf-storefront-ProgramWidget",Ab=async t=>{let e;return Te(q.ShopifyOrderStatus)?e=".section__content .content-box":Te(q.RechargeOrderStatus)&&(e="#checkout .section--thank-you"),t!==N.MainContent||!e?{element:document.body,position:"afterbegin"}:(await Xu(()=>!!document.querySelector(e)),{element:document.querySelector(e),position:"afterend"})},Nb=async()=>{await Xu(()=>!!document.body);const t=_i(),e=`<div class="_sf-storefront _sf-x" id="${Qu}"></div>`,{element:r,position:n}=await Ab(t);if(!r)throw new Error("Could not find the reference element where to show the Superfiliate widget");return r.insertAdjacentHTML(n,e),document.getElementById(Qu)},Zu=2147483e3;let ec=Zu;const pi={zIndexMap:t=>t?19e6:Zu,containerPresent:()=>!!document.querySelector("#privy-container"),modalOpen:()=>!!document.querySelector(".privy-popup-content")},Db=async()=>{for(;;){if(pi.containerPresent())for(;;){const t=pi.zIndexMap(pi.modalOpen());t!==ec&&(ec=t,document.documentElement.style.setProperty("--sf-z-index-program-widget-modal",`${t}`)),await di(200)}await di(2e3)}},Fb=[q.RechargeOrderStatus,q.ShopifyOrderStatus,q.ShopifyOnlineStore,q.Unknown],Mb=async()=>{var t;Fb.includes(xt())&&(t=window.$superfiliateStorefront.personalization)!=null&&t.widget&&(Db(),Yt(x(Rb,{}),await Nb()))},tc="sfIframe.clipboardCopy",Lb=async t=>{if(!navigator.clipboard)return!1;try{return typeof window<"u"&&window.top&&window.top!==window.self?(window.top.postMessage({name:tc,value:t},"*"),!0):(await navigator.clipboard.writeText(t),!0)}catch(e){return console.error(e),!1}},Ub=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==tc)return;Lb(t.data.value)}catch{return}})};try{Cv("sf-"),Ov(),Mb(),Sm(),Ub()}catch(t){Xs(t)}})();

})();
